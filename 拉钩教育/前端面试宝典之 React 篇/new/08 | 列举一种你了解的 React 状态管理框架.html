<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>08 | 列举一种你了解的 React 状态管理框架</title>
<style type="text/css">.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}/*# sourceURL=/Users/young/Documents/Codes/Fun/lagou/public/atom-one-light.min.css*/</style><style type="text/css">/*
 * Copyright (C) 2018 Drake, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

:root {
    --monospace: "JetBrains Mono", HYZhengYuan, "Fira Code", Menlo, "Ubuntu Mono", Consolas; /*code font*/
    --text-font: var(--monospace); /*default font*/
    --title-font: var(--monospace); /*title font*/

    --text-color: #333333;
    --bg-color: #ffffff;
    --control-text-color: var(--text-color);
    --meta-content-color: var(--text-color);
    --active-file-border-color: var(--drake-accent);
    --rawblock-edit-panel-bd: var(--code-block-bg-color);
    --item-hover-bg-color: #E5E5E596;
    --active-file-bg-color: var(--item-hover-bg-color);

    --drake-accent: #e95f59;
    --drake-highlight: #d63200;
    --a-color: #036aca;
    --variable-color: var(--drake-highlight);
    --outline-active-color: var(--a-color);
    --code-block-bg-color: #2b2b2b;
    --code-block-color: #A9B7C6;
    --title-color: #135ce0;
    --blockquote-border-color: #b2aec5;
    --blockquote-color: #595959;
    --blockquote-bg-color: #fff9f9;
    --strong-color: var(--title-color);
    --h2-underline-color: var(--title-color);
    --horizontal-divider-color: var(--title-color);
    --height-light-color: var(--drake-highlight);
    --height-light-border-color: var(--drake-highlight);
    --yaml-color: #777777;
    --yaml-bg-color: #f7f7f7;
    --footnotes-bg-color: #3c3d3e;
    --footnotes-highlight: #FFD760;
    --table-border-color: #dfe2e5;
    --table-header-bg-color: #f6f8fa;
    --table-bg-color: var(--bg-color);
    --table-n2-bg-color: #f6f8fa;
    --input-bg-color: var(--item-hover-bg-color);
    --btn-hover-bg-color: var(--item-hover-bg-color);
    --checkbox-checked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M425.984 726.016l384-384-59.99-61.995-324.01 324.011-152.021-152.021L213.973 512zm384-598.016q36.01 0 61.013 25.984T896 213.974v596.01q0 34.005-25.003 59.99t-61.013 25.983h-596.01q-36.011 0-61.014-25.984t-25.003-59.989v-596.01q0-34.006 25.003-59.99T213.973 128h596.011z' fill='%2365b73b'/%3E%3C/svg%3E");
    --checkbox-unchecked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M810.667 213.333v597.334H213.333V213.333h597.334m0-85.333H213.333C166.4 128 128 166.4 128 213.333v597.334C128 857.6 166.4 896 213.333 896h597.334C857.6 896 896 857.6 896 810.667V213.333C896 166.4 857.6 128 810.667 128z' fill='%23333333'/%3E%3C/svg%3E");
}

html {
    font-size: 15px;
}

body {
    font-family: var(--text-font) !important;
    color: var(--text-color);
    -webkit-font-feature-settings: "liga" on, "calt" on;
    -webkit-font-smoothing: subpixel-antialiased;
    text-rendering: optimizeLegibility;
    letter-spacing: 0;
    margin: 0;
    overflow-x: hidden;
    line-height: 1.8rem;
}

img {
    max-width: 100%;
}

#write {
    background-image: linear-gradient(
            90deg
            ,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(
            1turn
            ,rgba(60,10,30,.04) 3%,transparent 0);
    background-size: 20px 20px;
    background-position: 50%;
}

/*code block*/
#write .md-fences {
    font-size: 1rem;
    padding: 0.5rem !important;
    border-radius: 2px;
    word-wrap: normal;
    background-color: var(--code-block-bg-color);
    color: var(--code-block-color);
    border: none;
}

/*code snippet*/
#write code, tt {
    border-radius: 2px;
    color: var(--drake-highlight);
}

/*variable*/
var {
    color: var(--variable-color);
    font-weight: bold;
}

/*raw block*/
.md-rawblock-control:not(.md-rawblock-tooltip) {
    border-radius: 2px 0 2px 2px;
    padding: 0.2rem !important;
}
.md-rawblock:hover > .md-rawblock-container {
    background: none;
}
.md-rawblock-input {
    font-size: 1rem;
}
.md-rawblock-tooltip-btn:hover {
    background: none;
}
.md-rawblock:hover > .md-rawblock-tooltip {
    border-radius: 2px 2px 0 0;
    margin-bottom: 2px !important;
}
.md-rawblock-tooltip.md-rawblock-control {
    border-radius: 2px 2px 0 0;
    color: var(--code-block-color);
}
.md-rawblock-tooltip-name {
    color: var(--code-block-color);
    opacity: 1;
}

/*quote block*/
blockquote:before {
    display: block;
    position: absolute;
    content: '';
    width: 4px;
    left: 0;
    top: 0;
    height: 100%;
    background-color: var(--blockquote-border-color);
    border-radius: 2px;
}

blockquote {
    color: var(--blockquote-color);
    border-radius: 2px;
    padding: 10px 16px;
    background-color: var(--blockquote-bg-color);
    position: relative;
    border-left: none;
}

#write strong {
    color: var(--strong-color);
    font-weight: bold;
}
#write blockquote strong {
    color: var(--blockquote-color);
}

/*link*/
#write a {
    color: var(--a-color);
    text-decoration: none;
}
#write a .md-plain, .md-htmlblock-container a:hover {
    border-bottom: .1rem solid var(--a-color);
}
[md-inline=link] a {
    margin: 0 .2rem;
}
a:any-link {
    color: var(--a-color);
}

img {
    border-left: none;
    border-right: none;
    vertical-align: baseline;
    border-radius: 2px;
}

#write {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 30px 100px;
}
#typora-source .CodeMirror-lines {
    max-width: 1200px;
}

#write p {
    word-spacing: .05rem;
}

#write > ul:first-child,
#write > ol:first-child {
    margin-top: 30px;
}

body > *:first-child {
    margin-top: 0 !important;
}

body > *:last-child {
    margin-bottom: 0 !important;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--title-font);
    position: relative;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: bold;
    cursor: text;
    color: var(--title-color);
}

h3.md-focus:before, h4.md-focus:before, h5.md-focus:before, h6.md-focus:before {
    visibility: hidden;
}

h1 {
    font-size: 1.6rem;
    text-align: center;
    margin-top: 0;
}

h2.md-end-block.md-heading {
    font-size: 1.6rem;
    display: inline-block;
}

h2.md-end-block.md-heading:after {
    display: block;
    content: '';
    height: 2px;
    margin-top: 4px;
    background-color: var(--h2-underline-color);
    border-radius: 2px;
}

h3 {
    font-size: 1.4rem;
}

h4 {
    font-size: 1.2rem;
}

h5 {
    font-size: 1rem;
}

h6 {
    font-size: 1rem;
}

h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}

h1 tt,
h1 code {
    font-size: inherit !important;
}

h2 tt,
h2 code {
    font-size: inherit !important;
}

h3 tt,
h3 code {
    font-size: inherit !important;
}

h4 tt,
h4 code {
    font-size: inherit !important;
}

h5 tt,
h5 code {
    font-size: inherit !important;
}

h6 tt,
h6 code {
    font-size: inherit !important;
}

blockquote,
ul,
ol,
dl,
table {
    margin: 0.8em 0;
}
p {
    margin: 0;
}

li > ol,
li > ul {
    margin: 0 0;
}

hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: var(--horizontal-divider-color);
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

body > h2:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
}

body > h3:first-child,
body > h4:first-child,
body > h5:first-child,
body > h6:first-child {
    margin-top: 0;
    padding-top: 0;
}

a:first-child h1,
a:first-child h2,
a:first-child h3,
a:first-child h4,
a:first-child h5,
a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
}

h1 p,
h2 p,
h3 p,
h4 p,
h5 p,
h6 p {
    margin-top: 0;
}

li p.first {
    display: inline-block;
}

ul, ol {
    padding-inline-start: 2em;
}

ul:first-child,
ol:first-child {
    margin-top: 0;
}

ul:last-child,
ol:last-child {
    margin-bottom: 0;
}

table {
    padding: 0;
    word-break: initial;
    background-color: var(--table-bg-color);
}
table tr {
    border-top: .1em solid var(--table-border-color);
    margin: 0;
    padding: 0;
}
table th {
    font-weight: bold;
    border: .1em solid var(--table-border-color);
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: .1em solid var(--table-border-color);
    margin: 0;
    padding: 6px 13px;
}
table thead {
    background-color: var(--table-header-bg-color);
}
table tr:nth-child(2n) {
    background-color: var(--table-n2-bg-color);
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

#write em {
    padding: 0 5px 0 2px;
}

/* height light */
#write mark {
    border: .1em solid var(--height-light-border-color);
    color: var(--height-light-color);
    background-color: transparent;
    padding: .1rem .5rem;
    border-radius: 2rem;
    margin: 0 .2rem;
    font-size: .95rem;
}

/*shortcut*/
kbd {
    border: .1em solid #5b5b5e;
    background: transparent;
    color: var(--text-color);
    margin: 0 .4rem;
    font-size: .95rem;
    padding: .3em .4em;
    border-radius: .4em;
    vertical-align: top;
    box-shadow: .1em .1em .2em rgba(0, 0, 0, 0.3);
}

#write del {
    padding: 1px 2px;
}

.md-task-list-item > input {
    margin-left: -1.3em;
}

@media print {
    html {
        font-size: 12px;
    }

    table,
    pre {
        page-break-inside: avoid;
    }

    pre {
        word-wrap: break-word;
    }
}

/*YAML*/
#write pre.md-meta-block {
    padding: 1rem;
    font-size: 1rem;
    background-color: var(--yaml-bg-color);
    border: 0;
    border-radius: 2px;
    color: var(--yaml-color);
    margin-top: 0 !important;
}

.mathjax-block > .code-tooltip {
    bottom: .375rem;
}

#write > h3.md-focus:before {
    left: -1.5625rem;
    top: .375rem;
}

#write > h4.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

#write > h5.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

#write > h6.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

.md-image > .md-meta {
    border-radius: 2px;
    font-family: initial;
    padding: 2px 0 0 4px;
    color: inherit;
}

.md-tag {
    color: inherit;
}

.md-toc {
    margin-top: 20px;
    padding-bottom: 20px;
}

.typora-quick-open-item {
    font-size: 1rem !important;
    height: 50px;
    padding-left: 8px;
    padding-top: 4px;
    padding-bottom: 4px;
}

#typora-quick-open {
    box-shadow: 0 0 8px #00000045;
    padding: 0;
}

.ty-quick-open-category.ty-has-prev .ty-quick-open-category-title {
    border-top: none;
}

#typora-quick-open-input {
    margin: 8px;
    box-shadow: none;
    border-radius: 2px;
}

#typora-quick-open-input input {
    font-size: 1rem;
    box-shadow: none;
    padding-top: 2px;
    padding-left: 10px;
    padding-right: 10px;
    line-height: 32px;
    max-height: 32px;
    border: none;
}

.modal-dialog#typora-quick-open {
    border-radius: 8px;
}

.ty-quick-open-category-title {
    padding-left: 8px;
    color: #BEBEBE;
    font-size: 0.8rem;
    margin-bottom: 4px;
}

.typora-quick-open-item-path {
    font-size: 0.8rem;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin-top: 1px;
}

/*search input*/
.form-control {
    border: none;
    border-radius: 2px;
    box-shadow: none;
}

#md-searchpanel .btn {
    border-radius: 2px;
}

#search-panel-replaceall-btn {
    padding-right: 5px !important;
    text-align: center !important;
}

#search-panel-replace-btn {
    text-align: center !important;
}

#md-searchpanel input {
    background: var(--input-bg-color);
    border-radius: 2px;
}

.searchpanel-search-option-btn {
    border-radius: 2px;
    border: none;
    background: transparent;
    color: var(--text-color);
}

.searchpanel-search-option-btn.active {
    background: var(--text-color);
    color: var(--bg-color);
}

.form-control:focus {
    box-shadow: none;
}

#md-notification:before {
    top: 10px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header,
.context-menu,
.megamenu-content,
footer {
    font-family: initial;
}

/*sidebar*/
.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state {
    visibility: visible;
}

#typora-sidebar {
    font-size: 1.1rem;
}

.sidebar-tabs {
    border-bottom: none;
}

.file-list-item-summary, .file-list-item-parent-loc, .file-list-item-time, .file-list-item-summary {
    font-size: 0.9rem !important;
    font-family: var(--text-font);
}

.file-list-item-file-ext-part {
    display: none;
}

.outline-item {
    font-size: 1rem;
}

/*footnotes mark*/
#write .md-footnote {
    background-color: inherit;
    color: var(--drake-highlight);
    font-size: 0.9rem;
    border-radius: 0.9rem;
    padding-left: 0;
}

#write .md-footnote:before {
    content: "[";
}

#write .md-footnote:after {
    content: "]";
}

/*footnotes content*/
.md-hover-tip .code-tooltip-content {
    border-radius: 2px;
}

/*footnotes title*/
span.md-def-name {
    padding-right: 3ch;
    padding-left: 0;
    position: relative;
    font-weight: normal;
}

/*footnotes desc*/
.footnotes {
    font-size: 1rem;
    font-weight: normal;
    color: var(--text-color);
    position: relative;
}

/*footnotes tooltip text*/
.code-tooltip-content .md-plain {
    font-size: 0.9rem;
    font-family: inherit;
}

.code-tooltip-content code {
    padding: 0 2px;
    font-family: inherit;
    color: var(--footnotes-highlight);
    background-color: inherit;
}

.code-tooltip-content a {
    color: var(--footnotes-highlight);
}

div.code-tooltip-content {
    box-shadow: 0 0 8px #00000045;
    background: var(--footnotes-bg-color);
}

.footnotes {
    opacity: 1;
}

.md-def-name:after {
    content: ". ^";
    color: var(--text-color);
}

.md-def-footnote .md-def-name:before {
    content: "";
    color: var(--text-color);
    position: absolute;
}

.md-def-name:before {
    content: "";
    color: var(--text-color);
    position: absolute;
}

.md-content.md-url, .md-def-content.md-def-url.md-auto-disp {
    text-decoration: none;
    border-bottom: .1rem solid var(--text-color);
}

.CodeMirror-scroll::-webkit-scrollbar {
    display: none;
}

.file-list-item-summary {
    font-size: 1em;
}

.pin-outline #outline-content .outline-active strong, .pin-outline .outline-active {
    font-weight: 500;
    color: var(--outline-active-color);
}

.file-list-item.active {
    border-left: 4px solid var(--drake-accent);
}

#md-searchpanel .btn:not(.close-btn):hover {
    box-shadow: none;
    background: var(--btn-hover-bg-color);
}

/*checkbox*/
#write input[type=checkbox] {
    opacity: 0;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
    margin-top: 0;
    top: 0;
}

#write .ul-list li.md-task-list-item.task-list-done::before {
    content: "";
    background: var(--checkbox-checked) 0 0 no-repeat;
    background-size: 100%;
    display: inline-block;
    position: absolute;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
}

#write .ul-list li.md-task-list-item.task-list-not-done::before {
    content: "";
    background: var(--checkbox-unchecked) 0 0 no-repeat;
    background-size: 100%;
    display: inline-block;
    position: absolute;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
}

/*insert table*/
.btn {
    border-radius: 2px;
}

.modal-content {
    border-radius: 8px;
}

.btn-primary:hover, .btn-primary:active {
    background-color: var(--btn-hover-bg-color);
    color: var(--drake-highlight);
}

.btn-primary {
    background-color: transparent;
    color: var(--drake-highlight);
}

.btn-default {
    background-color: transparent;
}

.btn:active {
    box-shadow: none;
    border-color: transparent;
}

.modal-footer {
    border-top: none;
}

#table-insert-col, #table-insert-row {
    background: var(--input-bg-color);
    border-radius: 2px;
}

/*preference panel*/
#megamenu-content {
    background-image: none !important;
    background-color: var(--bg-color);
}
#top-titlebar {
    height: inherit;
    background-color: var(--bg-color);
}
#megamenu-menu-sidebar {
    background-color: var(--bg-color);
    color: var(--text-color);
}
.long-btn {
    width: inherit;
    min-width: 300px;
    border: 1px solid var(--text-color);
    border-radius: 6px;
}
.megamenu-menu-panel h1 {
    margin-bottom: 3rem;
    text-align: left;
}
.megamenu-menu-panel h1, .megamenu-menu-panel h2 {
    font-weight: normal;
}
#recent-file-panel-search-input {
    height: 45px;
    border: none;
    border-bottom: 1px solid var(--text-color);
    padding-left: 8px;
}
#recent-file-panel-search-input::placeholder {
    color: var(--text-color);
    opacity: .5;
}
.megamenu-menu-header {
    border-bottom: none;
}
#recent-file-panel-action-btn {
    background: none;
    border: none;
}
#recent-file-panel-action-btn-container {
    float: none;
    display: inline-block;
}
#top-titlebar .toolbar-icon.btn.hover, #top-titlebar .toolbar-icon.btn:hover {
    background-color: var(--btn-hover-bg-color);
    color: var(--text-color);
}
.megamenu-menu-panel .btn:hover {
    background-color: var(--btn-hover-bg-color) !important;
    color: var(--text-color);
}
#recent-file-panel tbody tr:nth-child(2n-1),
.megamenu-menu-panel table thead,
.megamenu-menu-panel table tr {
    background-color: transparent;
}
.megamenu-menu-panel table {
    font-weight: normal;
}
#megamenu-back-btn {
    color: var(--text-color);
    border: 1px solid var(--text-color);
}
.megamenu-menu-header #megamenu-menu-header-title {
    color: var(--text-color);
}
header, .context-menu, .megamenu-content, footer {
    font-family: var(--text-font);
}
.ty-preferences select {
    padding-left: 2px;
}
.preference-item-hint {
    font-size: 14px;
}
a.ty-link {
    color: var(--a-color);
    margin: 0 .2rem;
}

/**
    code render
    Name: IntelliJ IDEA darcula theme
    From IntelliJ IDEA by JetBrains
 */
.cm-s-inner.CodeMirror {
    background: var(--code-block-bg-color);
    color: var(--code-block-color);
}

.cm-s-inner span.cm-meta {
    color: #BBB529;
}

.cm-s-inner span.cm-number {
    color: #6897BB;
}

.cm-s-inner span.cm-keyword {
    color: #CC7832;
}

.cm-s-inner span.cm-def {
    color: #FFD760;
}

.cm-s-inner span.cm-variable {
    color: var(--code-block-color);
}

.cm-s-inner span.cm-variable-2 {
    color: var(--code-block-color);
}

.cm-s-inner span.cm-variable-3 {
    color: #9876AA;
}

.cm-s-inner span.cm-type {
    color: #AABBCC;
}

.cm-s-inner span.cm-property {
    color: #FFC66D;
}

.cm-s-inner span.cm-operator {
    color: var(--code-block-color);
}

.cm-s-inner span.cm-string {
    color: #6A8759;
}

.cm-s-inner span.cm-string-2 {
    color: #6A8759;
}

.cm-s-inner span.cm-comment {
    color: #787878;
}

.cm-s-inner span.cm-link {
    color: #CC7832;
}

.cm-s-inner span.cm-atom {
    color: #CC7832;
}

.cm-s-inner span.cm-error {
    color: #BC3F3C;
}

.cm-s-inner span.cm-tag {
    color: #E8BF6A;
}

.cm-s-inner span.cm-quote {
    color: #a6e22e;
}

.cm-s-inner span.cm-attribute {
    color: #9876AA;
}

.cm-s-inner span.cm-qualifier {
    color: #6A8759;
}

.cm-s-inner span.cm-bracket {
    color: #E8BF6A;
}

.cm-s-inner span.cm-builtin {
    color: #FF9E59;
}

.cm-s-inner span.cm-special {
    color: #FF9E59;
}

.cm-s-inner span.cm-matchhighlight {
    color: #FFFFFF;
    background-color: rgba(50, 89, 48, .7);
    font-weight: normal;
}

.cm-s-inner span.cm-searching {
    color: #FFFFFF;
    background-color: rgba(61, 115, 59, .7);
    font-weight: normal;
}

.cm-s-inner .CodeMirror-gutters {
    border-right: 1px solid rgba(120, 120, 120, 0.3);
}

.cm-s-inner .CodeMirror-linenumber {
    color: #585b5d;
}

.cm-s-inner .CodeMirror-matchingbracket {
    background-color: #3B514D;
    color: #FFEF28 !important;
}

.cm-s-inner .CodeMirror-selected {
    background: #214283 !important;
}

.cm-s-inner .CodeMirror-selectedtext {
    background: #214283 !important;
}

.cm-s-typora-default .CodeMirror-selectedtext {
    background: var(--select-text-bg-color) !important;
}

.cm-overlay.CodeMirror-selectedtext {
    background: var(--select-text-bg-color) !important;
}

.cm-s-inner div.CodeMirror-cursor {
    border-left: 1px solid var(--code-block-color);
}/*# sourceURL=/Users/didi/Documents/Codes/Fun/lagou/public/drake-juejin.css*/</style></head>
<body>
  <div id="write"><h1>08 | 列举一种你了解的 React 状态管理框架</h1><p data-nodeid="26000" class="">在面试中，如果面试官让你列举一种 React 状态管理框架，你应该如何回答呢？这讲我会带你探讨这个问题。</p>
<h3 data-nodeid="26001">破题</h3>
<p data-nodeid="26002">正如上一讲所提到的：横跨多个层级之间的组件仍然需要<strong data-nodeid="26146">共享状态</strong>、<strong data-nodeid="26147">响应变化</strong>。传统的状态提升方案难以高效地解决这个问题，比如 Context。</p>
<p data-nodeid="26003">Context 存储的变量难以追溯数据源以及确认变动点。当组件依赖 Context 时，会提升组件耦合度，这不利于组件的复用与测试。</p>
<p data-nodeid="26004">而状态管理框架就很好地解决了这些问题，才得以流行。所以在 React 的开发中，或多或少都会用到状态管理框架。对状态管理框架的掌握程度也就成了面试的<strong data-nodeid="26154">必考点</strong>。</p>
<p data-nodeid="26005">当然，虽然题目要求列举一种，但如果你能说出更多的状态管理框架，那肯定是加分的。这样可以证明你的开发经验足够丰富，且对社区流行很是了解。</p>
<h3 data-nodeid="26006">承题</h3>
<p data-nodeid="26007">当前社区流行的状态管理框架有哪些呢？莫过于 Flux、Redux、Mobx 了。在回答这些框架本身的内容之外，你最好可以结合个人的思考，补充一些<strong data-nodeid="26162">个人观点</strong>。</p>
<p data-nodeid="26008">这样初步的框架就出来了。</p>
<p data-nodeid="26009"><img src="https://s0.lgstatic.com/i/image2/M01/03/BF/Cip5yF_hvb6ANS1oAABPfNBNzik486.png" alt="图片5.png" data-nodeid="26166"></p>
<h3 data-nodeid="26010">入手</h3>
<h4 data-nodeid="26011">Flux</h4>
<p data-nodeid="26012">Flux 给我的印象就是平地一声雷，有种“天不生 Flux，状态管理如长夜”的感觉。回顾历史，你会发现 Flux 如同 React 一样对业界影响巨大。如果你对 Flutter 与 SwiftUI 有了解的话，就能理解 React 对后起之秀的那种深远影响。Flux 同样如此，它提出了一种 MVC 以外的成功实践——单向数据流，这同样深远地影响了“后来人”。</p>
<p data-nodeid="26013">2014 的 Facebook F8 大会上提出了一个观点，MVC 更适用于<strong data-nodeid="26187">小型应用</strong>，但在面向大型前端项目时，MVC 会使项目<strong data-nodeid="26188">足够复杂</strong>，即每当添加新的功能，系统复杂度就会疯狂增长。如下图所示，Model 与 View 的关联是错综复杂的，很难理解和调试，尤其是 Model 与 View 之间还存在<strong data-nodeid="26189">双向数据流动</strong>。<br>
<img src="https://s0.lgstatic.com/i/image/M00/8B/E8/CgqCHl_hvXiARE1qAAGLIgEVr84635.png" alt="图片4.png" data-nodeid="26186"></p>
<p data-nodeid="26014">这对于接手老代码的人来说是个令人头疼的难题，因为他们害怕承担风险，所以不敢轻易修改代码。这也正是 MVC 模式被 Facebook 抛弃的原因。</p>
<p data-nodeid="26015">所以他们提出了一种基于<strong data-nodeid="26196">单向数据流</strong>的架构。如下图所示：</p>
<p data-nodeid="26016"><img src="https://s0.lgstatic.com/i/image/M00/8B/DC/Ciqc1F_hvYaAXO13AACP4LdBInk191.png" alt="图片3.png" data-nodeid="26199"></p>
<p data-nodeid="26017">我先解释下上图中涉及的概念。</p>
<ul data-nodeid="26018">
<li data-nodeid="26019">
<p data-nodeid="26020"><strong data-nodeid="26205">View</strong>是视图层，即代码中的 React 组件。</p>
</li>
<li data-nodeid="26021">
<p data-nodeid="26022"><strong data-nodeid="26210">Store</strong>是数据层，维护了数据和数据处理的逻辑。</p>
</li>
<li data-nodeid="26023">
<p data-nodeid="26024"><strong data-nodeid="26215">Dispatcher</strong>是管理数据流动的中央枢纽。每一个 Store 提供一个回调。当 Dispatcher 接收一个 Action 时，所有的 Store 接收注册表中的 Action，然后通过回调产生数据。</p>
</li>
<li data-nodeid="26025">
<p data-nodeid="26026"><strong data-nodeid="26220">Action</strong>可以理解为一种事件通知，通常用 type 标记。</p>
</li>
</ul>
<p data-nodeid="26027">具体的流程是这样的，Store 存储了视图层所有的数据，当 Store 变化后会引起 View 层的更新。如果在视图层触发 Action，比如点击一个按钮，当前的页面数据值会发生变化。Action 会被 Dispatcher 进行统一的收发处理，传递给 Store 层。由于 Store 层已经注册过相关 Action 的处理逻辑，处理对应的内部状态变化后，会触发 View 层更新。</p>
<p data-nodeid="26028">从应用场景来看，Flux 除了在 Facebook 内部大规模应用以外，业界很少使用。因为它的概念及样板代码相比后起之秀，还是有点多。从如今的视角看，Flux 可称为抛砖引玉的典范，开启了一轮状态管理的军备竞赛。</p>
<h4 data-nodeid="26029">Redux</h4>
<p data-nodeid="26030">这场军备竞赛的佼佼者非 Redux 莫属。当提到 Redux，不得不提 Elm 这样一种传奇的语言。<strong data-nodeid="26233">Elm</strong>虽然是一种语言，但实际上主要用于<strong data-nodeid="26234">网页开发</strong>，它设计了一种 Model、View、Message、Update 的更新思路。</p>
<p data-nodeid="26031"><img src="https://s0.lgstatic.com/i/image2/M01/03/BF/Cip5yF_hvZaAb8fEAACbYQ-vGAA538.png" alt="图片2.png" data-nodeid="26237"></p>
<p data-nodeid="26032">Elm 有着这样<strong data-nodeid="26243">独特的设计</strong>：</p>
<ul data-nodeid="26033">
<li data-nodeid="26034">
<p data-nodeid="26035"><strong data-nodeid="26248">全局单一数据源</strong>，不像 Flux 一样有多个 Store；</p>
</li>
<li data-nodeid="26036">
<p data-nodeid="26037"><strong data-nodeid="26253">纯函数</strong>，可以保证输入输出的恒定；</p>
</li>
<li data-nodeid="26038">
<p data-nodeid="26039"><strong data-nodeid="26258">静态类型</strong>，可以确保运行安全。</p>
</li>
</ul>
<p data-nodeid="26040">在 Redux 的文档中，毫不避讳地提到，自己借鉴了这个设计。</p>
<p data-nodeid="26041">在 Flux 与 Elm 的基础上，Redux 确立了自己的“三原则”。</p>
<ul data-nodeid="26042">
<li data-nodeid="26043">
<p data-nodeid="26044"><strong data-nodeid="26265">单一数据源</strong>，即整个应用的 state 被储存在一棵 object tree 中，并且这个 object tree 只存在于唯一一个 Store 中。</p>
</li>
<li data-nodeid="26045">
<p data-nodeid="26046"><strong data-nodeid="26270">纯函数 Reducer</strong>，即为了描述 Action 如何改变状态树 ，编写的一个纯函数的 Reducer。</p>
</li>
<li data-nodeid="26047">
<p data-nodeid="26048"><strong data-nodeid="26275">state 是只读的</strong>，唯一可以改变 state 的方法就是触发 Action，Action 是一个用于描述已发生事件的普通对象。</p>
</li>
</ul>
<p data-nodeid="26049">这三大原则使 Redux 的调试工具实现了<strong data-nodeid="26281">时间回溯</strong>功能，通过录制回放 Action，完整重现了整个应用路径，这在当时引发了不小的轰动。下图中的 Redux DevTools 是开发中常用的 Redux 调试工具，界面中展示的内容就是时间回溯功能，可以查看每个操作对全局 Store 产生的变化。</p>
<p data-nodeid="26050"><img src="https://s0.lgstatic.com/i/image/M00/8B/CF/CgqCHl_gUMOATuFNAApzhM4wX64949.png" alt="Drawing 4.png" data-nodeid="26284"></p>
<div data-nodeid="26051"><p style="text-align:center">Redux 调试工具的时间回溯</p></div>
<p data-nodeid="26052">在 Redux 社区中有一个经久不衰的话题，就是如何解决副作用（Side Effect）。在 16 年到 18 年之间，即使是在知乎，这也是前端最火的话题。每隔一段时间社区就会冒出一个新的方案，宣称对副作用有了最佳实践。</p>
<p data-nodeid="26053">Redux 团队是这样论述“副作用”的：任何具备业务价值的 Web 应用必然要执行复杂的逻辑，比如 AJAX 请求等异步工作，这类逻辑使函数在每次的执行过程中，产生不同的变化，这样与外界的交互，被称为“副作用”。一个常见的副作用的例子是这样的，你发一个网络请求，需要界面先显示 Loading，再根据请求是否成功，来决定显示数据还是显示报错信息，你会发现在整个过程中，异步操作在 Redux 中无从添加，因为 Redux 本身深受<strong data-nodeid="26291">函数式编程</strong>的影响，导致：</p>
<ul data-nodeid="26054">
<li data-nodeid="26055">
<p data-nodeid="26056">所有的事件都收拢 Action 去触发；</p>
</li>
<li data-nodeid="26057">
<p data-nodeid="26058">所有的 UI 状态都交给 Store 去管理；</p>
</li>
<li data-nodeid="26059">
<p data-nodeid="26060">所有的业务逻辑都交由 Reducer 去处理。</p>
</li>
</ul>
<p data-nodeid="26061">在这里 Action、Reducer 是纯函数，Store 也只是一个 state 状态树，都不能完成处理副作用的操作。</p>
<p data-nodeid="26062">真正可以解决副作用的方案主要分为两类：</p>
<ul data-nodeid="26063">
<li data-nodeid="26064">
<p data-nodeid="26065">在 Dispatch 的时候有一个<strong data-nodeid="26306">middleware 中间件层</strong>，拦截分发的<strong data-nodeid="26307">Action</strong>并添加额外的复杂行为，还可以添加副作用；</p>
</li>
<li data-nodeid="26066">
<p data-nodeid="26067">允许 Reducer 层直接处理副作用。</p>
</li>
</ul>
<p data-nodeid="26068">你可以看出，这两类方案并没有把副作用从代码中消除，而是通过不同的方式转嫁到不同的层级中。对于每一类我们都看一下主流的解决方案。</p>
<p data-nodeid="26069">第一类中，流行的方案是 Redux-thunk，其作用是<strong data-nodeid="26315">处理异步 Action</strong>，它的源码在面试中经常被要求独立编写。</p>
<pre class="lang-java hljs" data-nodeid="26070"><code data-language="java"><span class="hljs-function">function <span class="hljs-title">createThunkMiddleware</span><span class="hljs-params">(extraArgument)</span> </span>{
	  <span class="hljs-keyword">return</span> ({ dispatch, getState }) =&gt; (next) =&gt; (Action) =&gt; {
	    <span class="hljs-keyword">if</span> (typeof Action === <span class="hljs-string">'function'</span>) {
	      <span class="hljs-keyword">return</span> Action(dispatch, getState, extraArgument);
	    }
	
	    <span class="hljs-keyword">return</span> next(Action);
	  };
	}
	
	<span class="hljs-keyword">const</span> thunk = createThunkMiddleware();
	thunk.withExtraArgument = createThunkMiddleware;
	
	export <span class="hljs-keyword">default</span> thunk;
</code></pre>
<p data-nodeid="26071">如上代码所示，Redux-thunk 通过添加中间件来判断 Action 是否为函数：</p>
<ul data-nodeid="26072">
<li data-nodeid="26073">
<p data-nodeid="26074">如果是函数，则 Dispatch，将当前的整个 state 以及额外参数传入其中；</p>
</li>
<li data-nodeid="26075">
<p data-nodeid="26076">否则就继续流转 Action。</p>
</li>
</ul>
<p data-nodeid="26077">这是一个最早最经典的处理 Redux 副作用的方案，你还可以自己去自定义 Store 的 middleware。那如果 Action 是一个数组，或者是一个 promise ，该怎么处理呢？这都可以实现。因为社区中 Action 可以是数组，可以是 promise，还可以是迭代器，或者 rxjs，比如 Redux-Saga、Redux-Promise、Redux-Observable 等。</p>
<p data-nodeid="26078">第二类方案相对冷门很多，但从设计上而言，思考得却更加深刻。比如 Redux Loop 就深入地借鉴了 Elm。在 Elm 中副作用的处理在 update 层，这样的设计叫分形架构。如下代码所示：</p>
<pre class="lang-java hljs" data-nodeid="26079"><code data-language="java"><span class="hljs-keyword">import</span> { loop, Cmd } from <span class="hljs-string">'redux-loop'</span>;
<span class="hljs-function">function <span class="hljs-title">initAction</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">return</span> {
      type: <span class="hljs-string">'INIT'</span>
    };
}
<span class="hljs-function">function <span class="hljs-title">fetchUser</span><span class="hljs-params">(userId)</span></span>{
    <span class="hljs-keyword">return</span> fetch(\`/api/users/\${userId}\`);
}
<span class="hljs-function">function <span class="hljs-title">userFetchSuccessfulAction</span><span class="hljs-params">(user)</span></span>{
   <span class="hljs-keyword">return</span> {
      type: <span class="hljs-string">'USER_FETCH_SUCCESSFUL'</span>,
      user
   };
}
<span class="hljs-function">function <span class="hljs-title">userFetchFailedAction</span><span class="hljs-params">(err)</span></span>{
   <span class="hljs-keyword">return</span> {
      type: <span class="hljs-string">'USER_FETCH_FAILED'</span>,
      err
   };
}
<span class="hljs-keyword">const</span> initialState = {
  initStarted: <span class="hljs-keyword">false</span>,
  user: <span class="hljs-keyword">null</span>,
  error: <span class="hljs-keyword">null</span>
};
<span class="hljs-function">function <span class="hljs-title">Reducer</span><span class="hljs-params">(state = initialState, Action)</span> </span>{
  <span class="hljs-keyword">switch</span>(Action.type) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">'INIT'</span>:
    <span class="hljs-keyword">return</span> loop(
      {...state, initStarted: <span class="hljs-keyword">true</span>},
      Cmd.run(fetchUser, {
        successActionCreator: userFetchSuccessfulAction,
        failActionCreator: userFetchFailedAction,
        args: [<span class="hljs-string">'123'</span>]
      })
    );
  <span class="hljs-keyword">case</span> <span class="hljs-string">'USER_FETCH_SUCCESSFUL'</span>:
    <span class="hljs-keyword">return</span> {...state, user: Action.user};
  <span class="hljs-keyword">case</span> <span class="hljs-string">'USER_FETCH_FAILED'</span>:
    <span class="hljs-keyword">return</span> {...state, error: Action.error};
  <span class="hljs-keyword">default</span>:
    <span class="hljs-keyword">return</span> state;
  }
}
</code></pre>
<p data-nodeid="26080">那什么是分形架构呢？这就需要提到分形架构：</p>
<blockquote data-nodeid="26081">
<p data-nodeid="26082">如果子组件能够以同样的结构，作为一个应用使用，这样的结构就是分形架构。</p>
</blockquote>
<p data-nodeid="26083">分形架构的好处显而易见，复用容易、组合方便。Redux Loop 就做出了这样的尝试，但在实际的项目中应用非常少，因为你很难遇到一个真正需要应用分形的场景。在真实的开发中，并没有那么多的复用，也没有那么多完美场景实践理论。</p>
<p data-nodeid="26084">虽然 Redux Loop 在分形架构上做出了探索，但 Redux 作者并不是那么满意，他甚至写了一篇<a href="https://redux.canny.io/feature-requests/p/there-is-no-easy-way-to-compose-redux-applications" data-nodeid="26327">长文</a>感慨，没有一种简单的方案可以组合 Redux 应用，并提了一个长久以来悬而未决的 <a href="https://github.com/reduxjs/redux/issues/1528" data-nodeid="26331">issue</a>。</p>
<p data-nodeid="26085">最后就是关于 Redux 的一揽子解决方案。</p>
<ul data-nodeid="26086">
<li data-nodeid="26087">
<p data-nodeid="26088">在国外社区流行的方案是<strong data-nodeid="26351">rematch</strong>，它提供了一个标准的范式写 Redux。根据具体的<a href="https://github.com/rematch/rematch/tree/next/examples" data-nodeid="26341">案例</a>，你会发现 rematch 的<strong data-nodeid="26352">模块更为内聚</strong>，<strong data-nodeid="26353">插件更为丰富</strong>。</p>
</li>
<li data-nodeid="26089">
<p data-nodeid="26090">而国内流行的解决方案是 <a href="https://github.com/dvajs/dva" data-nodeid="26357">dva</a>。</p>
</li>
</ul>
<p data-nodeid="26091">关于这两个方案，你可以参考我给的代码进行学习，这里就不详细讲解了。</p>
<h4 data-nodeid="26092">Mobx</h4>
<p data-nodeid="26093">从 Redux 深渊逃离出来，现在可以松口气了，进入 Mobx。如果你喜欢 Vue，那么一定会爱上 Mobx；但是如果喜欢 Redux，那你一定会恨它。不如先抛下这些，看看官方示例：</p>
<pre class="lang-java hljs" data-nodeid="26094"><code data-language="java"><span class="hljs-keyword">import</span> {observable, autorun} from <span class="hljs-string">'mobx'</span>;
<span class="hljs-keyword">var</span> todoStore = observable({
    <span class="hljs-comment">/* 一些观察的状态 */</span>
    todos: [],
    <span class="hljs-comment">/* 推导值 */</span>
    <span class="hljs-function">get <span class="hljs-title">completedCount</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.todos.filter(todo =&gt; todo.completed).length;
    }
});
<span class="hljs-comment">/* 观察状态改变的函数 */</span>
autorun(function() {
    console.log(<span class="hljs-string">"Completed %d of %d items"</span>,
        todoStore.completedCount,
        todoStore.todos.length
    );
});
<span class="hljs-comment">/* ..以及一些改变状态的动作 */</span>
todoStore.todos[<span class="hljs-number">0</span>] = {
    title: <span class="hljs-string">"Take a walk"</span>,
    completed: <span class="hljs-keyword">false</span>
};
<span class="hljs-comment">// -&gt; 同步打印 'Completed 0 of 1 items'</span>
todoStore.todos[<span class="hljs-number">0</span>].completed = <span class="hljs-keyword">true</span>;
<span class="hljs-comment">// -&gt; 同步打印 'Completed 1 of 1 items'</span>
</code></pre>
<p data-nodeid="26095">Mobx 是通过监听数据的属性变化，直接在数据上更改来触发 UI 的渲染。是不是一听就非常“Vue”。那 Mobx 的监听方式是什么呢？</p>
<ul data-nodeid="26096">
<li data-nodeid="26097">
<p data-nodeid="26098">在 Mobx 5 之前，实现监听的方式是采用 Object.defineProperty；</p>
</li>
<li data-nodeid="26099">
<p data-nodeid="26100">而在 Mobx 5 以后采用了 Proxy 方案。</p>
</li>
</ul>
<h3 data-nodeid="26101">答题</h3>
<p data-nodeid="26102">通过以上的学习，我们可以答题了。</p>
<blockquote data-nodeid="26103">
<p data-nodeid="26104">首先介绍 Flux，Flux 是一种使用单向数据流的形式来组合 React 组件的应用架构。</p>
<p data-nodeid="26105">Flux 包含了 4 个部分，分别是 Dispatcher、 Store、View、Action。Store 存储了视图层所有的数据，当 Store 变化后会引起 View 层的更新。如果在视图层触发一个 Action，就会使当前的页面数据值发生变化。Action 会被 Dispatcher 进行统一的收发处理，传递给 Store 层，Store 层已经注册过相关 Action 的处理逻辑，处理对应的内部状态变化后，触发 View 层更新。</p>
<p data-nodeid="26106">Flux 的优点是单向数据流，解决了 MVC 中数据流向不清的问题，使开发者可以快速了解应用行为。从项目结构上简化了视图层设计，明确了分工，数据与业务逻辑也统一存放管理，使在大型架构的项目中更容易管理、维护代码。</p>
<p data-nodeid="26107">其次是 Redux，Redux 本身是一个 JavaScript 状态容器，提供可预测化状态的管理。社区通常认为 Redux 是 Flux 的一个简化设计版本，但它吸收了 Elm 的架构思想，更像一个混合产物。它提供的状态管理，简化了一些高级特性的实现成本，比如撤销、重做、实时编辑、时间旅行、服务端同构等。</p>
<p data-nodeid="26108">Redux 的核心设计包含了三大原则：单一数据源、纯函数 Reducer、State 是只读的。</p>
<p data-nodeid="26109">Redux&nbsp;中整个数据流的方案与 Flux 大同小异。</p>
<p data-nodeid="26110">Redux 中的另一大核心点是处理“副作用”，AJAX 请求等异步工作，或不是纯函数产生的第三方的交互都被认为是 “副作用”。这就造成在纯函数设计的 Redux 中，处理副作用变成了一件至关重要的事情。社区通常有两种解决方案：</p>
<p data-nodeid="26111">第一类是在 Dispatch 的时候会有一个 middleware 中间件层，拦截分发的 Action 并添加额外的复杂行为，还可以添加副作用。第一类方案的流行框架有 Redux-thunk、Redux-Promise、Redux-Observable、Redux-Saga 等。</p>
<p data-nodeid="26112">第二类是允许 Reducer 层中直接处理副作用，采取该方案的有 React Loop，React Loop 在实现中采用了 Elm 中分形的思想，使代码具备更强的组合能力。</p>
<p data-nodeid="26113">除此以外，社区还提供了更为工程化的方案，比如 rematch 或 dva，提供了更详细的模块架构能力，提供了拓展插件以支持更多功能。</p>
<p data-nodeid="26114">Redux 的优点很多：结果可预测；代码结构严格易维护；模块分离清晰且小函数结构容易编写单元测试；Action 触发的方式，可以在调试器中使用时间回溯，定位问题更简单快捷；单一数据源使服务端同构变得更为容易；社区方案多，生态也更为繁荣。</p>
<p data-nodeid="26115">最后是 Mobx，Mobx 通过监听数据的属性变化，可以直接在数据上更改触发UI 的渲染。在使用上更接近 Vue，比起 Flux 与 Redux 的手动挡的体验，更像开自动挡的汽车。Mobx 的响应式实现原理与 Vue 相同，以 Mobx 5 为分界点，5 以前采用 Object.defineProperty 的方案，5 及以后使用 Proxy 的方案。它的优点是样板代码少、简单粗暴、用户学习快、响应式自动更新数据让开发者的心智负担更低。</p>
</blockquote>
<p data-nodeid="26116">当然利用好知识导图，更有利于知识的学习。</p>
<p data-nodeid="26117"><img src="https://s0.lgstatic.com/i/image2/M01/03/A7/CgpVE1_gUQiAAvzrAAOW0evXtuI496.png" alt="Drawing 5.png" data-nodeid="26382"></p>
<p data-nodeid="26118">关于个人观点部分，你可以参考我以下观点。这里务必谨记，表达个人观点时，切忌对技术栈踩一捧一，容易引发面试官反感。</p>
<blockquote data-nodeid="26119">
<p data-nodeid="26120">我认为 Flux 的设计更偏向 Facebook 内部的应用场景，Facebook 的方案略显臃肿，拓展能力欠佳，所以在社区中热度不够。而 Redux 因为纯函数的原因，碰上了社区热点，简洁不简单的 API 设计使社区疯狂贡献发展，短短数年方案层出不穷。但从工程角度而言，不是每一个项目都适用单一数据源。因为很多项目的数据是按页面级别切分的，页面之间相对隔绝，并不需要共享数据源，是否需要 Redux 应该视具体情况而定。Mobx 在开发项目时简单快速，但应用 Mobx 的场景 ，其实完全可以用 Vue 取代。如果纯用 Vue，体积还会更小巧。</p>
</blockquote>
<h3 data-nodeid="26121">进阶</h3>
<p data-nodeid="26122">在现场面试中很容易让你徒手实现一个 Redux。在实现 Redux 的时候，需要注意两个地方。</p>
<ul data-nodeid="26123">
<li data-nodeid="26124">
<p data-nodeid="26125"><strong data-nodeid="26391">createStore</strong>。即通过 createStore，注入 Reducer 与 middleware，生成 Store 对象。</p>
</li>
<li data-nodeid="26126">
<p data-nodeid="26127"><strong data-nodeid="26396">Store 对象的 getState、subscribe 与 dispatch 函数</strong>。getState 获取当前状态树，subscribe 函数订阅状态树变更，dispatch 发送 Action。</p>
</li>
</ul>
<p data-nodeid="26128">在实现上尽量采用纯函数的实现方案。如果没有思路建议阅读 Redux 4.x 的<a href="https://github.com/reduxjs/redux/tree/4.x" data-nodeid="26400">代码</a>。</p>
<h3 data-nodeid="26129">总结</h3>
<p data-nodeid="26130">一涉及状态管理，内容就相当多了，在面试中也是非常浓厚的一笔。对于本讲梳理的知识导图请务必掌握，最好可以自己画一画；本讲中提到的代码也都要看一看，可以加深对概念的理解。因为大厂中的前端项目结构的复杂性高，一定会使用状态管理框架来规范模块划分与人工操作。所以在面试前，一定要确保能够完全消化本讲中的内容。</p>
<p data-nodeid="26131">下一讲开始为你讲解渲染流程的内容，会相对轻松一些。</p>
<p data-nodeid="26132"><a href="https://shenceyun.lagou.com/t/mka" data-nodeid="26409"><img src="https://s0.lgstatic.com/i/image/M00/72/94/Ciqc1F_EZ0eANc6tAASyC72ZqWw643.png" alt="Drawing 2.png" data-nodeid="26408"></a></p>
<p data-nodeid="26133">《大前端高薪训练营》</p>
<p data-nodeid="26134" class="te-preview-highlight">对标阿里 P7 技术需求 + 每月大厂内推，6 个月助你斩获名企高薪 Offer。<a href="https://shenceyun.lagou.com/t/mka" data-nodeid="26414">点击链接</a>，快来领取！</p></div>

</body></html>