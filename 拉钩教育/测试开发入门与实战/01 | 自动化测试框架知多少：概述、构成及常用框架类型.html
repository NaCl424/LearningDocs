<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>01 | 自动化测试框架知多少：概述、构成及常用框架类型</title>
<style type="text/css">
:root {
    --control-text-color: #777;
    --select-text-bg-color: rgba(223, 197, 223);  /*#7e66992e;*/
    
    /* side bar */
    --side-bar-bg-color: rgb(255, 255, 255);
    --active-file-text-color: #8163bd;
    --active-file-bg-color: #E9E4F0;
    --item-hover-bg-color: #E9E4F0;
    --active-file-border-color: #8163bd;

    --title-color: #6c549c;
    --font-sans-serif: 'Ubuntu', 'Source Sans Pro', sans-serif !important;
    --font-monospace: 'Fira Code', 'Roboto Mono', monospace !important;
    --purple-1: #8163bd;
    --purple-2: #79589F;
    --purple-3: #fd5eb8;
    --purple-light-1: rgba(99, 99, 172, .05);
    --purple-light-2: rgba(99, 99, 172, .1);
    --purple-light-3: rgba(99, 99, 172, .2);
    --purple-light-4: rgba(129, 99, 189, .3);
    --purple-light-5: #E9E4F0;
    --purple-light-6: rgba(129, 99, 189, .8);
}

/* html {
    font-size: 16px;
} */

body {
    font-family: var(--font-sans-serif);
    color: #34495e;
    -webkit-font-smoothing: antialiased;
    line-height: 1.6rem;
    letter-spacing: 0;
    margin: 0;
    overflow-x: hidden;
}

/* 页边距 和 页面大小 */
#write {
    padding-left: 6ch;
    padding-right: 6ch;
    margin: 0 auto;
}

#write p {
    line-height: 1.6rem;
    word-spacing: .05rem;
}

#write ol li {
    padding-left: 0.5rem;
}

#write > ul:first-child,
#write > ol:first-child {
    margin-top: 30px;
}

body > *:first-child {
    margin-top: 0 !important;
}

body > *:last-child {
    margin-bottom: 0 !important;
}

a {
    color: var(--purple-1);
    padding: 0 2px;
    text-decoration: none;
}
.md-content {
    color: var(--purple-light-6);
}
#write a {
    border-bottom: 1px solid var(--purple-1);
    color: var(--purple-1);
    text-decoration: none;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    /* font-weight: bold; */
    font-weight: 500 !important;
    line-height: 1.4;
    cursor: text;
    color: var(--title-color);
    font-family: var(--font-sans-serif);
}

h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}

h1 tt,
h1 code {
    font-size: inherit !important;
}
h2 tt,
h2 code {
    font-size: inherit !important;
}
h3 tt,
h3 code {
    font-size: inherit !important;
}
h4 tt,
h4 code {
    font-size: inherit !important;
}
h5 tt,
h5 code {
    font-size: inherit !important;
}
h6 tt,
h6 code {
    font-size: inherit !important;
}


h1 {
    padding-bottom: .4rem;
    font-size: 2.2rem;
    line-height: 1.3;
}
h1 {
    text-align: center;
    padding-bottom: 0.3em;
    font-size: 2.2em;
    line-height: 1.2;
    margin: 2.4em auto 1.2em;
}
h1:after {
    content: '';
    display: block;
    margin: 0.2em auto 0;
    width: 100px;
    height: 2px;
    border-bottom: 2px solid var(--title-color);
}

h2 {
    margin: 1.6em auto 0.5em;
    padding-left: 10px;
    line-height: 1.4;
    font-size: 1.8em;
    border-left: 9px solid var(--title-color);
    border-bottom: 1px solid var(--title-color);
}
h3 {
    font-size: 1.5rem;
    margin: 1.2em auto 0.5em;
}
h4 {
    font-size: 1.3rem;
}
h5 {
    font-size: 1.2rem;
}
h6 {
    font-size: 1.1rem;
}

p,
blockquote,
ul,
ol,
dl,
table {
    margin: 0.8em 0;
}

li > ol,
li > ul {
    margin: 0 0;
}

hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

body > h2:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
}

body > h3:first-child,
body > h4:first-child,
body > h5:first-child,
body > h6:first-child {
    margin-top: 0;
    padding-top: 0;
}

a:first-child h1,
a:first-child h2,
a:first-child h3,
a:first-child h4,
a:first-child h5,
a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
}

h1 p,
h2 p,
h3 p,
h4 p,
h5 p,
h6 p {
    margin-top: 0;
}

li p.first {
    display: inline-block;
}

ul,
ol {
    padding-left: 30px;
}

ul:first-child,
ol:first-child {
    margin-top: 0;
}

ul:last-child,
ol:last-child {
    margin-bottom: 0;
}

/* 引用 */
blockquote {
    /* margin-left: 1rem; */
    border-left: 4px solid var(--purple-light-4);
    padding: 10px 15px;
    color: #777;
    background-color: var(--purple-light-1);
}

/* 表格 */
table {
    padding: 0;
    word-break: initial;
}

table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}

/* 表格 背景色 */
table tr:nth-child(2n),
thead {
    background-color: var(--purple-light-1);
}
#write table thead th {
    background-color: var(--purple-light-2);
}

table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}

table tr td {
    border: 1px solid #dfe2e5;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}

table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}

table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

/* 粗体 */
#write strong {
    padding: 0 2px;
    color: var(--purple-1);
}

/* 斜体 */
#write em {
    padding: 0 5px 0 2px;
    /* font-style: normal; */
    color: #42b983;
}

/* inline code */
#write code, tt {
    padding: 2px 4px;
    border-radius: 2px;
    font-family: var(--font-monospace);
    font-size: 0.92rem;
    color: var(--purple-3); 
    background-color: rgba(99, 99, 172, .05);
}

tt {
    margin: 0 2px;
}

#write .md-footnote {
    background-color: #f8f8f8;
    color: var(--purple-3);
}

/* heighlight. */
#write mark {
    background-color: #fbd3ea;
    border-radius: 2px;
    padding: 2px 4px;
    margin: 0 2px;
}

#write del {
    padding: 1px 2px;
}

.md-task-list-item > input {
    margin-left: -1.3em;
}

@media print {
    html {
        font-size: 0.9rem;
    }

    table,
    pre {
        page-break-inside: avoid;
    }

    pre {
        word-wrap: break-word;
    }
}

#write pre.md-meta-block {
    padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block > .code-tooltip {
    bottom: .375rem;
}

/* 图片 */
.md-image > .md-meta {
    border-radius: 3px;
    font-family: var(--font-monospace);
    padding: 2px 0 0 4px;
    font-size: 0.9em;
    color: inherit;
}
p .md-image:only-child{
    width: auto;
    text-align: left;
    margin-left: 2rem;
}
.md-tag {
    color: inherit;
}
/* 当 “![shadow-随便写]()”写时，会有阴影 */
.md-image img[alt|='shadow'] {
    /* box-shadow: 0 4px 24px -6px #ddd; */
    box-shadow:var(--purple-light-2) 0px 10px 15px;
}

#write a.md-toc-inner {
    line-height: 1.6;
    white-space: pre-line;
    border-bottom: none;
    font-size: 0.9rem;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

#md-notification:before {
    top: 10px;
}

header,
.context-menu,
.megamenu-content,
footer {
    font-family: var(--font-sans-serif);
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state {
    visibility: visible;
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

/* 代码框 */
/* CodeMirror 3024 Day theme */

/* 代码段 背景 */
pre {
    --select-text-bg-color: rgba(223, 197, 223) !important;
    margin: .5em 0;
    padding: 1em 1.4em;
    border-radius: 8px;
    background: #f6f8fa;
    overflow-x: auto;
    box-sizing: border-box;
    font-size: 14px;
}

/* 边框 */
.md-fences {
    border: 1px solid #e7eaed;
    border-radius: 3px;
}

.cm-s-inner {
  padding: .25rem;
  border-radius: .25rem;
}

.cm-s-inner.CodeMirror, .cm-s-inner .CodeMirror-gutters {
  background-color: #f8f8f8 !important;
  color: #3a3432 !important;
  border: none;
}

.cm-s-inner .CodeMirror-gutters {
  color: #6d8a88;
}

.cm-s-inner .CodeMirror-cursor {
  border-left: solid thin #5c5855 !important;
}

.cm-s-inner .CodeMirror-linenumber {
  color: #807d7c;
}

.cm-s-inner .CodeMirror-line::selection, .cm-s-inner .CodeMirror-line::-moz-selection,
.cm-s-inner .CodeMirror-line > span::selection,
.cm-s-inner .CodeMirror-line > span::-moz-selection,
.cm-s-inner .CodeMirror-line > span > span::selection,
.cm-s-inner .CodeMirror-line > span > span::-moz-selection {
  background: var(--purple-light-2);
}

.cm-s-inner span.cm-comment {
  color: #cdab53;
}

.cm-s-inner span.cm-string, .cm-s-inner span.cm-string-2 {
  color: #f2b01d;
}

.cm-s-inner span.cm-number {
  color: #a34e8f;
}

.cm-s-inner span.cm-variable {
  color: #01a252;
}

.cm-s-inner span.cm-variable-2 {
  color: #01a0e4;
}

.cm-s-inner span.cm-def {
  /* color: #e8bbd0; */
  color: #e2287f;
}

.cm-s-inner span.cm-operator {
  color: #ff79c6;
}

.cm-s-inner span.cm-keyword {
  color: #db2d20;
}

.cm-s-inner span.cm-atom {
  color: #a34e8f;
}

.cm-s-inner span.cm-meta {
  color: inherit;
}

.cm-s-inner span.cm-tag {
  color: #db2d20;
}

.cm-s-inner span.cm-attribute {
  color: #01a252;
}

.cm-s-inner span.cm-qualifier {
  color: #388aa3;
}

.cm-s-inner span.cm-property {
  color: #01a252;
}

.cm-s-inner span.cm-builtin {
  color: #388aa3;
}

.cm-s-inner span.cm-variable-3, .cm-s-inner span.cm-type {
  color: #ffb86c;
}

.cm-s-inner span.cm-bracket {
  color: #3a3432;
}

.cm-s-inner span.cm-link {
  color: #a34e8f;
}

.cm-s-inner span.cm-error {
  background: #db2d20;
  color: #5c5855;
}

/* .md-fences.md-focus .cm-s-inner .CodeMirror-activeline-background {
  background: var(--purple-light-2);
} */

.cm-s-inner .CodeMirror-matchingbracket {
  text-decoration: underline;
  color: #a34e8f !important;
}

#fences-auto-suggest .active {
  background: #ddd;
}

#write .code-tooltip {
  bottom: initial;
  top: calc(100% - 1px);
  background: #f7f7f7;
  border: 1px solid #ddd;
  border-top: 0;
}

.auto-suggest-container {
  border-color: #b4b4b4;
}

.auto-suggest-container .autoComplt-hint.active {
  background: #b4b4b4;
  color: inherit;
}

/* task list */
#write .md-task-list-item > input {
  -webkit-appearance: initial;
  display: block;
  position: absolute;
  border: 1px solid #b4b4b4;
  border-radius: .25rem;
  margin-top: .1rem;
  margin-left: -1.8rem;
  height: 1.2rem;
  width: 1.2rem;
  transition: background 0.3s;
}

#write .md-task-list-item > input:focus {
  outline: none;
  box-shadow: none;
}

#write .md-task-list-item > input:hover {
  background: #ddd;
}

#write .md-task-list-item > input[checked]::before {
  content: '';
  position: absolute;
  top: 20%;
  left: 50%;
  height: 60%;
  width: 2px;
  transform: rotate(40deg);
  background: #333;
}

#write .md-task-list-item > input[checked]::after {
  content: '';
  position: absolute;
  top: 46%;
  left: 25%;
  height: 30%;
  width: 2px;
  transform: rotate(-40deg);
  background: #333;
}

#write .md-task-list-item > p {
  transition: color 0.3s, opacity 0.3s;
}

#write .md-task-list-item.task-list-done > p {
  color: #b4b4b4;
  text-decoration: line-through;
}

#write .md-task-list-item.task-list-done > p > .md-emoji {
  opacity: .5;
}

#write .md-task-list-item.task-list-done > p > .md-link > a {
  opacity: .6;
}

/* sidebar and outline */
.pin-outline .outline-active {
  color: var(--active-file-text-color); 
}

.file-list-item {
    border-bottom: 1px solid;
    border-color: var(--purple-light-5);
}

.file-list-item-summary {
    font-weight: 400;
}

.file-list-item.active {
    color: var(--active-file-text-color);
    background-color: var(--purple-light-5);
}

.file-tree-node.active>.file-node-background {
    background-color: var(--purple-light-5);
    font-weight: 700;
} 

.file-tree-node.active>.file-node-content {
    color: var(--active-file-text-color);
    font-weight: 700;
}

.file-node-content {
    color: #5e676d;
}

.sidebar-tabs {
    border-bottom: none;
}
.sidebar-tab.active {
    font-weight: 400;
}

.sidebar-content-content {
    font-size: 0.9rem;
}

img {
    max-width: 100%;
}

body {
    background-color: rgb(237, 237, 237);
}
#content {
    width: 836px;
    padding: 50px;
    background: #fff;
    margin: 0 auto;
}/*# sourceURL=/Users/young/Documents/Codes/Fun/lagou/public/purple.css*/</style><style type="text/css">.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}/*# sourceURL=/Users/young/Documents/Codes/Fun/lagou/public/atom-one-light.min.css*/</style></head>
<body>
  <div id="content"><h1>01 | 自动化测试框架知多少：概述、构成及常用框架类型</h1><p data-nodeid="15036" class="">通过前面课时的学习和讨论，我想你对于测试开发工程师的技术等级划分，以及日常工作都已经有所了解了。</p>
<p data-nodeid="15037">那么，当你拿到你的第一个测试开发新手任务——测试框架开发之后，应该从何入手呢？</p>
<p data-nodeid="15038">俗话说“万丈高楼平地起”，对于测试框架来说，<strong data-nodeid="15149">最致命的问题就是，投入使用后才发现框架结构不清晰，设计不合理，从而导致测试框架不可扩展、无法迁移，</strong> 可见测试框架有多么重要。</p>
<p data-nodeid="15039">比如，我之前带过一个徒弟，他第一次写测试框架时，把本应该属于框架基础的查找待运行测试的功能放在了与业务耦合的 Page 类里，而且在查找文件的时候，其针对文件路径的处理又没有用操作系统分隔符，而是直接用的Windows 上的文件分隔符。</p>
<p data-nodeid="15040">当时我问了两个问题：</p>
<ul data-nodeid="15041">
<li data-nodeid="15042">
<p data-nodeid="15043">如果我们换一个项目，想要用你的框架，可以直接用吗？</p>
</li>
<li data-nodeid="15044">
<p data-nodeid="15045">我现在的测试要换到 Mac 系统上去做，你的框架还能正常运行吗？</p>
</li>
</ul>
<p data-nodeid="15046">很显然，他的第一次尝试不够成功，不过这也说明了测试框架的设计是有一定规律可循的。那么，有哪些规律需要遵守呢？不急，这事儿我放在下一讲和你说，这一讲我想先来跟你聊聊什么是测试框架，它有哪些构成，以及常见的类型有哪些，这些是你进入下一讲内容之前必须要掌握的知识。</p>
<h3 data-nodeid="15047">自动化测试框架的引入</h3>
<p data-nodeid="15048">我认为，测试框架好比工具箱，其作用是可以<strong data-nodeid="15161">便捷、高效</strong>地完成测试工作。而测试框架的引入，往往不是一蹴而就的，好的测试框架都是在实践中逐渐演化而来的。</p>
<p data-nodeid="15049">下面我讲一个不那么恰当但很形象的“猩猩吃甜点”的例子，向你讲解测试框架的引入流程，并以此说明测试框架的作用。</p>
<p data-nodeid="15050"><img src="https://s0.lgstatic.com/i/image/M00/4D/32/Ciqc1F9ZyfmAdk-6AAETgnqFtrY709.png" alt="2.png" data-nodeid="15165"></p>
<p data-nodeid="15051"><img src="https://s0.lgstatic.com/i/image/M00/4D/2F/Ciqc1F9ZxsuAbeA1AAQi68P0Ibk588.png" alt="1.png" data-nodeid="15168"></p>
<p data-nodeid="15052">“吃甜点”这件小事，从毫无章法，变成一件有流程、有仪式感、让人会感到幸福的事，“木条”在其中起了很重要的作用；同样地，让测试变得更加规范化、流程化、效率化，“测试框架”在其中也起了很大的作用。</p>
<p data-nodeid="15053">那么，测试框架有哪些构成呢？下面我来为你一一讲解。</p>
<h3 data-nodeid="15054">自动化测试框架的构成</h3>
<p data-nodeid="15055">一个成熟的测试框架主要由 4 部分组成：基础模块、管理模块、运行模块和统计模块，接下来我将逐一讲解。</p>
<h4 data-nodeid="15056">1. 基础模块</h4>
<p data-nodeid="15057">如果把自动化测试框架比作一辆汽车，那么自动化测试基础模块就是那四只轮胎，没有它们，这辆汽车寸步难行，它们一般包括如下部分。</p>
<ul data-nodeid="15058">
<li data-nodeid="15059">
<p data-nodeid="15060"><strong data-nodeid="15181">底层核心驱动库：</strong> 一般指用于操作被测试应用程序的第三方库，例如在 Web 端的 Selenium/WebDriver。</p>
</li>
<li data-nodeid="15061">
<p data-nodeid="15062"><strong data-nodeid="15186">可重用的组件：</strong> 一般用来降低开发成本，常见的有时间处理模块、登录模块等。</p>
</li>
<li data-nodeid="15063">
<p data-nodeid="15064"><strong data-nodeid="15191">对象库：</strong> 存储被测试对象的仓库。在实际应用中，常常将页面进行分组，把一个页面上的所有对象放到一个类里，也就是 Page Object 模式。</p>
</li>
<li data-nodeid="15065">
<p data-nodeid="15066"><strong data-nodeid="15204">配置文件：</strong> 包括测试环境的配置和应用程序的配置。<strong data-nodeid="15205">测试环境配置</strong>，指的是一个功能从开发代码完成到上线，往往要经过几个测试环境的测试，测试环境的配置能够减少环境切换成本；<strong data-nodeid="15206">应用程序配置</strong>，主要包括被测试程序的一些配置，利用配置文件，可以做到在不更改代码的情况下覆盖相同程序的不同程序配置。</p>
</li>
</ul>
<h4 data-nodeid="15067">2. 管理模块</h4>
<p data-nodeid="15068">自动化测试管理模块就好比汽车的内饰和外观，它对测试框架的使用操作体验有着直接影响，一般可分为测试数据管理和测试文件管理两部分。</p>
<ul data-nodeid="15069">
<li data-nodeid="15070">
<p data-nodeid="15071"><strong data-nodeid="15214">测试数据管理</strong></p>
</li>
</ul>
<p data-nodeid="15072">测试数据存放的文件是否跟测试用例强绑定，以及测试数据是否容易替换、是否和测试框架耦合等，这些都决定着测试框架的“内饰”好坏。</p>
<p data-nodeid="15073">测试数据，一般指测试用例用到的各种测试数据，它们是为了验证业务正确性而构造的，每一条测试用例一般对应着一组或多组测试数据，测试数据创建一般分为实时创建和事先创建。</p>
<p data-nodeid="15074"><strong data-nodeid="15221">实时创建，</strong> 是在测试代码运行时才生成的测试数据。其好处有：测试数据是和测试代码耦合的，测试人员不需要关心其创建过程和业务调用链，通常用在测试的公用功能上。例如，给用户绑定银行卡以方便后续支付等。而坏处则是如果调用链太长，耗时会比较久。</p>
<p data-nodeid="15075"><strong data-nodeid="15226">事先创建，</strong> 是指测试代码运行前就准备好数据文件。其好处是数据拿来即用，几乎不耗费时间，由于没有业务调用，所以这在一定程度上减少了调用失败的风险；坏处则是数据文件本身需要维护，以保持可用性和正确性。</p>
<p data-nodeid="15076">测试数据在测试中非常重要，它关系到你的测试是否有效，测试框架要做到对测试数据有效管理。</p>
<ul data-nodeid="15077">
<li data-nodeid="15078">
<p data-nodeid="15079"><strong data-nodeid="15231">测试文件管理</strong></p>
</li>
</ul>
<p data-nodeid="15080">测试文件管理就好比汽车的颜色和外观，决定着第一印象，所以测试框架的文件结构应该清晰有序、一目了然。</p>
<p data-nodeid="15081">比如，一个测试用例应该对应建立三个文件，分别是：Page 类文件（xxxPage，根据 PO 模型）、测试类文件（testxxxPage）和对象库文件（xxxPageYml）。</p>
<p data-nodeid="15082">这三个文件共同描述了一个完整的测试用例，当你看到一个 Page 类时，就应该做到它还有一个对应的测试类。</p>
<p data-nodeid="15083">测试文件的结构清晰有助于他人理解测试框架的设计思想，更有利于测试框架的维护和推广。</p>
<h4 data-nodeid="15084">3. 运行模块</h4>
<p data-nodeid="15085">自动化测试运行模块是测试框架的发动机，它主要用于测试用例的组织和运行，一般包括如下部分。</p>
<ul data-nodeid="15086">
<li data-nodeid="15087">
<p data-nodeid="15088"><strong data-nodeid="15244">测试用例调度，驱动机制。</strong> 测试框架应能按需组织，调度测试用例生成、执行。举例来说，测试框架可以在运行时根据使用者给定的 Tag 动态挑选要运行的测试用例，并把它们调度执行（可以顺序执行，也可以并发执行，还可以远程执行）。</p>
</li>
<li data-nodeid="15089">
<p data-nodeid="15090"><strong data-nodeid="15257">错误恢复机制。</strong> 由于测试环境、测试程序、测试代码存在各种不确定因素，测试框架应该具备一定的错误恢复机制。在测试用例执行中，引起错误的类型一般可分为<strong data-nodeid="15258">代码/运行导致的错误</strong>和<strong data-nodeid="15259">环境/依赖导致的错误</strong>，测试框架应该能够识别这两种错误并给予相应的处理。</p>
</li>
<li data-nodeid="15091">
<p data-nodeid="15092"><strong data-nodeid="15264">持续集成支持。</strong> 测试框架应该能够和 CI 系统低成本集成，包括通过用户输入参数指定运行环境、测试结束后自动生成测试报告等。</p>
</li>
</ul>
<h4 data-nodeid="15093">4. 统计模块</h4>
<p data-nodeid="15094">自动化测试统计模块，就相当于汽车的品质和口碑。好的统计模块，不仅能告诉你当前的测试有没有 Bug，还能分析软件质量随着时间的演变情况，这是测试框架的质量体现。</p>
<p data-nodeid="15095">自动化测试统计模块一般包括如下两部分：</p>
<ul data-nodeid="15096">
<li data-nodeid="15097">
<p data-nodeid="15098"><strong data-nodeid="15274">测试报告。</strong> 测试报告应该全面，包括测试用例条数统计、测试用例成功/失败百分比、测试用例总执行时间等总体信息。其中，对于单条测试用例，还应该包括测试用例 ID、测试用例运行结果、测试用例运行时间、测试用例所属模块、测试失败时刻系统截图、测试的日志等信息。</p>
</li>
<li data-nodeid="15099">
<p data-nodeid="15100"><strong data-nodeid="15279">日志模块。</strong> 测试框架应该包括完善的日志文件，方便出错时进行排查和定位。</p>
</li>
</ul>
<h3 data-nodeid="15101">常用的测试框架类型</h3>
<p data-nodeid="15102">测试框架有很多类型，比较常见的有以下四类。</p>
<h4 data-nodeid="15103">1. 模块化测试框架</h4>
<p data-nodeid="15104">模块化测试框架是利用 OOP 思想和 PO 模式改造而来的框架。</p>
<p data-nodeid="15105">模块化测试框架把整个测试分为多个模块，模块化有以下几个特征：</p>
<ul data-nodeid="15106">
<li data-nodeid="15107">
<p data-nodeid="15108">我们将一个业务或者一个页面成为一个 Page 对象；</p>
</li>
<li data-nodeid="15109">
<p data-nodeid="15110">这个 Page 对象，我们以一个 Page 类来表示它；</p>
</li>
<li data-nodeid="15111">
<p data-nodeid="15112">这个 Page 类里存放有所有这个 Page所属的页面对象、元素操作；</p>
</li>
<li data-nodeid="15113">
<p data-nodeid="15114">页面对象和元素操作组成一个个的测试类方法，供测试用例层调用。</p>
</li>
</ul>
<p data-nodeid="15115">简单来说，<strong data-nodeid="15296">使用了 PO 模式的框架就可以叫作模块化测试框架</strong>。</p>
<ul data-nodeid="15116">
<li data-nodeid="15117">
<p data-nodeid="15118">模块化测试框架的<strong data-nodeid="15302">好处</strong>在于方便维护，你的测试用例可以由不同模块的不同对象组成；</p>
</li>
<li data-nodeid="15119">
<p data-nodeid="15120"><strong data-nodeid="15307">坏处</strong>在于你需要非常了解你的系统及这些模块是如何划分的，才能在测试脚本里自如地使用，否则你就会陷入重复定义模块对象的循环里。</p>
</li>
</ul>
<h4 data-nodeid="15121">2. 数据驱动框架</h4>
<p data-nodeid="15122">数据驱动框架主要解决了<strong data-nodeid="15316">测试数据的</strong>问题。</p>
<p data-nodeid="15123">在测试中，我们常常需要为同一个测试逻辑，构造不同的测试数据以满足业务需求，这些测试数据可以保存在测试代码里，也可以保存在外部文件里（包括 Excel、File、DB）。</p>
<p data-nodeid="15124">数据驱动框架的<strong data-nodeid="15323">精髓</strong>在于，输入 M 组数据，框架会自动构造出 M 个测试用例，并在测试结果中把每一个测试用例的运行结果独立展示出来。</p>
<p data-nodeid="15125">在 Python 架构里，最出名的数据驱动框架就是 DDT。</p>
<blockquote data-nodeid="15126">
<p data-nodeid="15127">这个后续我会在第 11 和 12 课时的“DDT：博采众长，数据驱动的秘诀”详细介绍并实现。</p>
</blockquote>
<h4 data-nodeid="15128">3. 关键字驱动框架</h4>
<p data-nodeid="15129">关键字驱动其实就是把一系列代码操作封装成一个关键字（这个关键字其实是函数名），在测试里，可以通过使用组合关键字的方式来生成测试用例，而不去关心这个关键字是如何运作的。</p>
<p data-nodeid="15130">关键字的一个典型应用是将登录操作封装为关键字 Login，之后在后续代码里，有关 Login的操作，就仅需调用这个关键字 Login，而不必又重新进行一次登录操作。</p>
<p data-nodeid="15131">关键字在领域里的最佳应用典范我认为是<strong data-nodeid="15336">BDD</strong>（行为驱动开发），它甚至被当成一种独立的敏捷软件开发技术来使用。</p>
<h4 data-nodeid="15132">4. 混合模型</h4>
<p data-nodeid="15133">需要注意的是，没有任何规定要求你的测试框架要属于以上某种类型，因为测试框架的存在不是为了分类型，而是为了更好地测试。</p>
<p data-nodeid="15134">所以在工作中，我们常常需要糅合不同框架模型，我们将这种模式的测试框架称为混合模型。混合模型可以包含模块化框架，也可以使用数据驱动，或者使用 BDD 模式。</p>
<h3 data-nodeid="15135">小结</h3>
<p data-nodeid="15136">这一讲，我们讨论了自动化测试框架的一些基本概念和类型，就像大猩猩使用工具提升吃饭效率一样，测试框架的引入能大大提升测试效率；也讲解了自动化测试框架的基础组成部分，有助你在后续的框架设计中，更全面地评估你的测试框架水平；最后介绍了测试框架的类型，助于你辨别，融合不同的测试框架类型，设计出更合适的测试框架。</p>
<p data-nodeid="15137">为了便于你理解，我把本节的内容做了一个脑图，供你查阅。</p>
<p data-nodeid="15138"><img src="https://s0.lgstatic.com/i/image/M00/4D/35/CgqCHl9ZwXKAdvTmAAGKcfF0v8c323.png" alt="image (2).png" data-nodeid="15347"></p>
<p data-nodeid="15139">最后给你留个思考题：你认为，一个测试框架最具竞争力的地方，应该是哪个部分呢？欢迎你在下方留言区与大家分享讨论。</p>
<hr data-nodeid="15140">
<p data-nodeid="15352" class=""><a href="https://shenceyun.lagou.com/t/eka" data-nodeid="15355">“测试开发工程师名企直推营” 入口，免费领取 50G 资料包</a></p></div>

</body></html>