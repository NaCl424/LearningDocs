<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>04 | 类与对象：更好地组织你的代码</title>
<style type="text/css">.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}/*# sourceURL=/Users/young/Documents/Codes/Fun/lagou/public/atom-one-light.min.css*/</style><style type="text/css">/*
 * Copyright (C) 2018 Drake, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

:root {
    --monospace: "JetBrains Mono", HYZhengYuan, "Fira Code", Menlo, "Ubuntu Mono", Consolas; /*code font*/
    --text-font: var(--monospace); /*default font*/
    --title-font: var(--monospace); /*title font*/

    --text-color: #333333;
    --bg-color: #ffffff;
    --control-text-color: var(--text-color);
    --meta-content-color: var(--text-color);
    --active-file-border-color: var(--drake-accent);
    --rawblock-edit-panel-bd: var(--code-block-bg-color);
    --item-hover-bg-color: #E5E5E596;
    --active-file-bg-color: var(--item-hover-bg-color);

    --drake-accent: #e95f59;
    --drake-highlight: #d63200;
    --a-color: #036aca;
    --variable-color: var(--drake-highlight);
    --outline-active-color: var(--a-color);
    --code-block-bg-color: #2b2b2b;
    --code-block-color: #A9B7C6;
    --title-color: #135ce0;
    --blockquote-border-color: #b2aec5;
    --blockquote-color: #595959;
    --blockquote-bg-color: #fff9f9;
    --strong-color: var(--title-color);
    --h2-underline-color: var(--title-color);
    --horizontal-divider-color: var(--title-color);
    --height-light-color: var(--drake-highlight);
    --height-light-border-color: var(--drake-highlight);
    --yaml-color: #777777;
    --yaml-bg-color: #f7f7f7;
    --footnotes-bg-color: #3c3d3e;
    --footnotes-highlight: #FFD760;
    --table-border-color: #dfe2e5;
    --table-header-bg-color: #f6f8fa;
    --table-bg-color: var(--bg-color);
    --table-n2-bg-color: #f6f8fa;
    --input-bg-color: var(--item-hover-bg-color);
    --btn-hover-bg-color: var(--item-hover-bg-color);
    --checkbox-checked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M425.984 726.016l384-384-59.99-61.995-324.01 324.011-152.021-152.021L213.973 512zm384-598.016q36.01 0 61.013 25.984T896 213.974v596.01q0 34.005-25.003 59.99t-61.013 25.983h-596.01q-36.011 0-61.014-25.984t-25.003-59.989v-596.01q0-34.006 25.003-59.99T213.973 128h596.011z' fill='%2365b73b'/%3E%3C/svg%3E");
    --checkbox-unchecked: url("data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M810.667 213.333v597.334H213.333V213.333h597.334m0-85.333H213.333C166.4 128 128 166.4 128 213.333v597.334C128 857.6 166.4 896 213.333 896h597.334C857.6 896 896 857.6 896 810.667V213.333C896 166.4 857.6 128 810.667 128z' fill='%23333333'/%3E%3C/svg%3E");
}

html {
    font-size: 15px;
}

body {
    font-family: var(--text-font) !important;
    color: var(--text-color);
    -webkit-font-feature-settings: "liga" on, "calt" on;
    -webkit-font-smoothing: subpixel-antialiased;
    text-rendering: optimizeLegibility;
    letter-spacing: 0;
    margin: 0;
    overflow-x: hidden;
    line-height: 1.8rem;
}

img {
    max-width: 100%;
}

#write {
    background-image: linear-gradient(
            90deg
            ,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(
            1turn
            ,rgba(60,10,30,.04) 3%,transparent 0);
    background-size: 20px 20px;
    background-position: 50%;
}

/*code block*/
#write .md-fences {
    font-size: 1rem;
    padding: 0.5rem !important;
    border-radius: 2px;
    word-wrap: normal;
    background-color: var(--code-block-bg-color);
    color: var(--code-block-color);
    border: none;
}

/*code snippet*/
#write code, tt {
    border-radius: 2px;
    color: var(--drake-highlight);
}

/*variable*/
var {
    color: var(--variable-color);
    font-weight: bold;
}

/*raw block*/
.md-rawblock-control:not(.md-rawblock-tooltip) {
    border-radius: 2px 0 2px 2px;
    padding: 0.2rem !important;
}
.md-rawblock:hover > .md-rawblock-container {
    background: none;
}
.md-rawblock-input {
    font-size: 1rem;
}
.md-rawblock-tooltip-btn:hover {
    background: none;
}
.md-rawblock:hover > .md-rawblock-tooltip {
    border-radius: 2px 2px 0 0;
    margin-bottom: 2px !important;
}
.md-rawblock-tooltip.md-rawblock-control {
    border-radius: 2px 2px 0 0;
    color: var(--code-block-color);
}
.md-rawblock-tooltip-name {
    color: var(--code-block-color);
    opacity: 1;
}

/*quote block*/
blockquote:before {
    display: block;
    position: absolute;
    content: '';
    width: 4px;
    left: 0;
    top: 0;
    height: 100%;
    background-color: var(--blockquote-border-color);
    border-radius: 2px;
}

blockquote {
    color: var(--blockquote-color);
    border-radius: 2px;
    padding: 10px 16px;
    background-color: var(--blockquote-bg-color);
    position: relative;
    border-left: none;
}

#write strong {
    color: var(--strong-color);
    font-weight: bold;
}
#write blockquote strong {
    color: var(--blockquote-color);
}

/*link*/
#write a {
    color: var(--a-color);
    text-decoration: none;
}
#write a .md-plain, .md-htmlblock-container a:hover {
    border-bottom: .1rem solid var(--a-color);
}
[md-inline=link] a {
    margin: 0 .2rem;
}
a:any-link {
    color: var(--a-color);
}

img {
    border-left: none;
    border-right: none;
    vertical-align: baseline;
    border-radius: 2px;
}

#write {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 30px 100px;
}
#typora-source .CodeMirror-lines {
    max-width: 1200px;
}

#write p {
    word-spacing: .05rem;
}

#write > ul:first-child,
#write > ol:first-child {
    margin-top: 30px;
}

body > *:first-child {
    margin-top: 0 !important;
}

body > *:last-child {
    margin-bottom: 0 !important;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--title-font);
    position: relative;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: bold;
    cursor: text;
    color: var(--title-color);
}

h3.md-focus:before, h4.md-focus:before, h5.md-focus:before, h6.md-focus:before {
    visibility: hidden;
}

h1 {
    font-size: 1.6rem;
    text-align: center;
    margin-top: 0;
}

h2.md-end-block.md-heading {
    font-size: 1.6rem;
    display: inline-block;
}

h2.md-end-block.md-heading:after {
    display: block;
    content: '';
    height: 2px;
    margin-top: 4px;
    background-color: var(--h2-underline-color);
    border-radius: 2px;
}

h3 {
    font-size: 1.4rem;
}

h4 {
    font-size: 1.2rem;
}

h5 {
    font-size: 1rem;
}

h6 {
    font-size: 1rem;
}

h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}

h1 tt,
h1 code {
    font-size: inherit !important;
}

h2 tt,
h2 code {
    font-size: inherit !important;
}

h3 tt,
h3 code {
    font-size: inherit !important;
}

h4 tt,
h4 code {
    font-size: inherit !important;
}

h5 tt,
h5 code {
    font-size: inherit !important;
}

h6 tt,
h6 code {
    font-size: inherit !important;
}

blockquote,
ul,
ol,
dl,
table {
    margin: 0.8em 0;
}
p {
    margin: 0;
}

li > ol,
li > ul {
    margin: 0 0;
}

hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: var(--horizontal-divider-color);
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

body > h2:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
}

body > h3:first-child,
body > h4:first-child,
body > h5:first-child,
body > h6:first-child {
    margin-top: 0;
    padding-top: 0;
}

a:first-child h1,
a:first-child h2,
a:first-child h3,
a:first-child h4,
a:first-child h5,
a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
}

h1 p,
h2 p,
h3 p,
h4 p,
h5 p,
h6 p {
    margin-top: 0;
}

li p.first {
    display: inline-block;
}

ul, ol {
    padding-inline-start: 2em;
}

ul:first-child,
ol:first-child {
    margin-top: 0;
}

ul:last-child,
ol:last-child {
    margin-bottom: 0;
}

table {
    padding: 0;
    word-break: initial;
    background-color: var(--table-bg-color);
}
table tr {
    border-top: .1em solid var(--table-border-color);
    margin: 0;
    padding: 0;
}
table th {
    font-weight: bold;
    border: .1em solid var(--table-border-color);
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: .1em solid var(--table-border-color);
    margin: 0;
    padding: 6px 13px;
}
table thead {
    background-color: var(--table-header-bg-color);
}
table tr:nth-child(2n) {
    background-color: var(--table-n2-bg-color);
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

#write em {
    padding: 0 5px 0 2px;
}

/* height light */
#write mark {
    border: .1em solid var(--height-light-border-color);
    color: var(--height-light-color);
    background-color: transparent;
    padding: .1rem .5rem;
    border-radius: 2rem;
    margin: 0 .2rem;
    font-size: .95rem;
}

/*shortcut*/
kbd {
    border: .1em solid #5b5b5e;
    background: transparent;
    color: var(--text-color);
    margin: 0 .4rem;
    font-size: .95rem;
    padding: .3em .4em;
    border-radius: .4em;
    vertical-align: top;
    box-shadow: .1em .1em .2em rgba(0, 0, 0, 0.3);
}

#write del {
    padding: 1px 2px;
}

.md-task-list-item > input {
    margin-left: -1.3em;
}

@media print {
    html {
        font-size: 12px;
    }

    table,
    pre {
        page-break-inside: avoid;
    }

    pre {
        word-wrap: break-word;
    }
}

/*YAML*/
#write pre.md-meta-block {
    padding: 1rem;
    font-size: 1rem;
    background-color: var(--yaml-bg-color);
    border: 0;
    border-radius: 2px;
    color: var(--yaml-color);
    margin-top: 0 !important;
}

.mathjax-block > .code-tooltip {
    bottom: .375rem;
}

#write > h3.md-focus:before {
    left: -1.5625rem;
    top: .375rem;
}

#write > h4.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

#write > h5.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

#write > h6.md-focus:before {
    left: -1.5625rem;
    top: .285714286rem;
}

.md-image > .md-meta {
    border-radius: 2px;
    font-family: initial;
    padding: 2px 0 0 4px;
    color: inherit;
}

.md-tag {
    color: inherit;
}

.md-toc {
    margin-top: 20px;
    padding-bottom: 20px;
}

.typora-quick-open-item {
    font-size: 1rem !important;
    height: 50px;
    padding-left: 8px;
    padding-top: 4px;
    padding-bottom: 4px;
}

#typora-quick-open {
    box-shadow: 0 0 8px #00000045;
    padding: 0;
}

.ty-quick-open-category.ty-has-prev .ty-quick-open-category-title {
    border-top: none;
}

#typora-quick-open-input {
    margin: 8px;
    box-shadow: none;
    border-radius: 2px;
}

#typora-quick-open-input input {
    font-size: 1rem;
    box-shadow: none;
    padding-top: 2px;
    padding-left: 10px;
    padding-right: 10px;
    line-height: 32px;
    max-height: 32px;
    border: none;
}

.modal-dialog#typora-quick-open {
    border-radius: 8px;
}

.ty-quick-open-category-title {
    padding-left: 8px;
    color: #BEBEBE;
    font-size: 0.8rem;
    margin-bottom: 4px;
}

.typora-quick-open-item-path {
    font-size: 0.8rem;
    text-overflow: ellipsis;
    white-space: nowrap;
    margin-top: 1px;
}

/*search input*/
.form-control {
    border: none;
    border-radius: 2px;
    box-shadow: none;
}

#md-searchpanel .btn {
    border-radius: 2px;
}

#search-panel-replaceall-btn {
    padding-right: 5px !important;
    text-align: center !important;
}

#search-panel-replace-btn {
    text-align: center !important;
}

#md-searchpanel input {
    background: var(--input-bg-color);
    border-radius: 2px;
}

.searchpanel-search-option-btn {
    border-radius: 2px;
    border: none;
    background: transparent;
    color: var(--text-color);
}

.searchpanel-search-option-btn.active {
    background: var(--text-color);
    color: var(--bg-color);
}

.form-control:focus {
    box-shadow: none;
}

#md-notification:before {
    top: 10px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header,
.context-menu,
.megamenu-content,
footer {
    font-family: initial;
}

/*sidebar*/
.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state {
    visibility: visible;
}

#typora-sidebar {
    font-size: 1.1rem;
}

.sidebar-tabs {
    border-bottom: none;
}

.file-list-item-summary, .file-list-item-parent-loc, .file-list-item-time, .file-list-item-summary {
    font-size: 0.9rem !important;
    font-family: var(--text-font);
}

.file-list-item-file-ext-part {
    display: none;
}

.outline-item {
    font-size: 1rem;
}

/*footnotes mark*/
#write .md-footnote {
    background-color: inherit;
    color: var(--drake-highlight);
    font-size: 0.9rem;
    border-radius: 0.9rem;
    padding-left: 0;
}

#write .md-footnote:before {
    content: "[";
}

#write .md-footnote:after {
    content: "]";
}

/*footnotes content*/
.md-hover-tip .code-tooltip-content {
    border-radius: 2px;
}

/*footnotes title*/
span.md-def-name {
    padding-right: 3ch;
    padding-left: 0;
    position: relative;
    font-weight: normal;
}

/*footnotes desc*/
.footnotes {
    font-size: 1rem;
    font-weight: normal;
    color: var(--text-color);
    position: relative;
}

/*footnotes tooltip text*/
.code-tooltip-content .md-plain {
    font-size: 0.9rem;
    font-family: inherit;
}

.code-tooltip-content code {
    padding: 0 2px;
    font-family: inherit;
    color: var(--footnotes-highlight);
    background-color: inherit;
}

.code-tooltip-content a {
    color: var(--footnotes-highlight);
}

div.code-tooltip-content {
    box-shadow: 0 0 8px #00000045;
    background: var(--footnotes-bg-color);
}

.footnotes {
    opacity: 1;
}

.md-def-name:after {
    content: ". ^";
    color: var(--text-color);
}

.md-def-footnote .md-def-name:before {
    content: "";
    color: var(--text-color);
    position: absolute;
}

.md-def-name:before {
    content: "";
    color: var(--text-color);
    position: absolute;
}

.md-content.md-url, .md-def-content.md-def-url.md-auto-disp {
    text-decoration: none;
    border-bottom: .1rem solid var(--text-color);
}

.CodeMirror-scroll::-webkit-scrollbar {
    display: none;
}

.file-list-item-summary {
    font-size: 1em;
}

.pin-outline #outline-content .outline-active strong, .pin-outline .outline-active {
    font-weight: 500;
    color: var(--outline-active-color);
}

.file-list-item.active {
    border-left: 4px solid var(--drake-accent);
}

#md-searchpanel .btn:not(.close-btn):hover {
    box-shadow: none;
    background: var(--btn-hover-bg-color);
}

/*checkbox*/
#write input[type=checkbox] {
    opacity: 0;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
    margin-top: 0;
    top: 0;
}

#write .ul-list li.md-task-list-item.task-list-done::before {
    content: "";
    background: var(--checkbox-checked) 0 0 no-repeat;
    background-size: 100%;
    display: inline-block;
    position: absolute;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
}

#write .ul-list li.md-task-list-item.task-list-not-done::before {
    content: "";
    background: var(--checkbox-unchecked) 0 0 no-repeat;
    background-size: 100%;
    display: inline-block;
    position: absolute;
    height: 1.6rem;
    width: 1.6rem;
    margin-left: -2em;
}

/*insert table*/
.btn {
    border-radius: 2px;
}

.modal-content {
    border-radius: 8px;
}

.btn-primary:hover, .btn-primary:active {
    background-color: var(--btn-hover-bg-color);
    color: var(--drake-highlight);
}

.btn-primary {
    background-color: transparent;
    color: var(--drake-highlight);
}

.btn-default {
    background-color: transparent;
}

.btn:active {
    box-shadow: none;
    border-color: transparent;
}

.modal-footer {
    border-top: none;
}

#table-insert-col, #table-insert-row {
    background: var(--input-bg-color);
    border-radius: 2px;
}

/*preference panel*/
#megamenu-content {
    background-image: none !important;
    background-color: var(--bg-color);
}
#top-titlebar {
    height: inherit;
    background-color: var(--bg-color);
}
#megamenu-menu-sidebar {
    background-color: var(--bg-color);
    color: var(--text-color);
}
.long-btn {
    width: inherit;
    min-width: 300px;
    border: 1px solid var(--text-color);
    border-radius: 6px;
}
.megamenu-menu-panel h1 {
    margin-bottom: 3rem;
    text-align: left;
}
.megamenu-menu-panel h1, .megamenu-menu-panel h2 {
    font-weight: normal;
}
#recent-file-panel-search-input {
    height: 45px;
    border: none;
    border-bottom: 1px solid var(--text-color);
    padding-left: 8px;
}
#recent-file-panel-search-input::placeholder {
    color: var(--text-color);
    opacity: .5;
}
.megamenu-menu-header {
    border-bottom: none;
}
#recent-file-panel-action-btn {
    background: none;
    border: none;
}
#recent-file-panel-action-btn-container {
    float: none;
    display: inline-block;
}
#top-titlebar .toolbar-icon.btn.hover, #top-titlebar .toolbar-icon.btn:hover {
    background-color: var(--btn-hover-bg-color);
    color: var(--text-color);
}
.megamenu-menu-panel .btn:hover {
    background-color: var(--btn-hover-bg-color) !important;
    color: var(--text-color);
}
#recent-file-panel tbody tr:nth-child(2n-1),
.megamenu-menu-panel table thead,
.megamenu-menu-panel table tr {
    background-color: transparent;
}
.megamenu-menu-panel table {
    font-weight: normal;
}
#megamenu-back-btn {
    color: var(--text-color);
    border: 1px solid var(--text-color);
}
.megamenu-menu-header #megamenu-menu-header-title {
    color: var(--text-color);
}
header, .context-menu, .megamenu-content, footer {
    font-family: var(--text-font);
}
.ty-preferences select {
    padding-left: 2px;
}
.preference-item-hint {
    font-size: 14px;
}
a.ty-link {
    color: var(--a-color);
    margin: 0 .2rem;
}

/**
    code render
    Name: IntelliJ IDEA darcula theme
    From IntelliJ IDEA by JetBrains
 */
.cm-s-inner.CodeMirror {
    background: var(--code-block-bg-color);
    color: var(--code-block-color);
}

.cm-s-inner span.cm-meta {
    color: #BBB529;
}

.cm-s-inner span.cm-number {
    color: #6897BB;
}

.cm-s-inner span.cm-keyword {
    color: #CC7832;
}

.cm-s-inner span.cm-def {
    color: #FFD760;
}

.cm-s-inner span.cm-variable {
    color: var(--code-block-color);
}

.cm-s-inner span.cm-variable-2 {
    color: var(--code-block-color);
}

.cm-s-inner span.cm-variable-3 {
    color: #9876AA;
}

.cm-s-inner span.cm-type {
    color: #AABBCC;
}

.cm-s-inner span.cm-property {
    color: #FFC66D;
}

.cm-s-inner span.cm-operator {
    color: var(--code-block-color);
}

.cm-s-inner span.cm-string {
    color: #6A8759;
}

.cm-s-inner span.cm-string-2 {
    color: #6A8759;
}

.cm-s-inner span.cm-comment {
    color: #787878;
}

.cm-s-inner span.cm-link {
    color: #CC7832;
}

.cm-s-inner span.cm-atom {
    color: #CC7832;
}

.cm-s-inner span.cm-error {
    color: #BC3F3C;
}

.cm-s-inner span.cm-tag {
    color: #E8BF6A;
}

.cm-s-inner span.cm-quote {
    color: #a6e22e;
}

.cm-s-inner span.cm-attribute {
    color: #9876AA;
}

.cm-s-inner span.cm-qualifier {
    color: #6A8759;
}

.cm-s-inner span.cm-bracket {
    color: #E8BF6A;
}

.cm-s-inner span.cm-builtin {
    color: #FF9E59;
}

.cm-s-inner span.cm-special {
    color: #FF9E59;
}

.cm-s-inner span.cm-matchhighlight {
    color: #FFFFFF;
    background-color: rgba(50, 89, 48, .7);
    font-weight: normal;
}

.cm-s-inner span.cm-searching {
    color: #FFFFFF;
    background-color: rgba(61, 115, 59, .7);
    font-weight: normal;
}

.cm-s-inner .CodeMirror-gutters {
    border-right: 1px solid rgba(120, 120, 120, 0.3);
}

.cm-s-inner .CodeMirror-linenumber {
    color: #585b5d;
}

.cm-s-inner .CodeMirror-matchingbracket {
    background-color: #3B514D;
    color: #FFEF28 !important;
}

.cm-s-inner .CodeMirror-selected {
    background: #214283 !important;
}

.cm-s-inner .CodeMirror-selectedtext {
    background: #214283 !important;
}

.cm-s-typora-default .CodeMirror-selectedtext {
    background: var(--select-text-bg-color) !important;
}

.cm-overlay.CodeMirror-selectedtext {
    background: var(--select-text-bg-color) !important;
}

.cm-s-inner div.CodeMirror-cursor {
    border-left: 1px solid var(--code-block-color);
}/*# sourceURL=/Users/didi/Documents/Codes/Fun/lagou/public/drake-juejin.css*/</style></head>
<body>
  <div id="write"><h1>04 | 类与对象：更好地组织你的代码</h1><p data-nodeid="5333" class="">上一节，我们学习了函数。这一讲，我们来学习 Python 中另外一个重要的概念：类与对象。</p>
<h3 data-nodeid="5334">类与对象</h3>
<h4 data-nodeid="5335">类与对象有什么关系</h4>
<p data-nodeid="5336">你可能会奇怪，为什么要叫类与对象呢？是两个不同的东西吗？简单来说，类代表一个类别，而对象则代表类的一个实例。比如我们在变量与数据类型中学习的整型变量为例。</p>
<pre class="lang-python hljs" data-nodeid="5337"><code data-language="python">a = <span class="hljs-number">3</span>
print(type(a))
</code></pre>
<p data-nodeid="5338">输出结果为：</p>
<pre class="lang-java hljs" data-nodeid="5339"><code data-language="java">&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> '<span class="hljs-title">int</span>'&gt;
</span></code></pre>
<p data-nodeid="5340">我们创建了一个变量 a，并赋值为 3，然后打印了它的类型。可以看到，输出 int，代表整型变量。<br>
细心的你也发现了，输出里面有一个单词 class，它就是类别的意思。难道说？所谓的整型，是一个类？你猜得没错。这里的整型：int，就是一个类。而我们创建的整型变量 a，就是他的一个实例。</p>
<p data-nodeid="5341">我们再举一些生活中的例子：</p>
<ul data-nodeid="5342">
<li data-nodeid="5343">
<p data-nodeid="5344">“人”是一个类，小明则是“人”这个类的一个实例，所以小明是一个对象；</p>
</li>
<li data-nodeid="5345">
<p data-nodeid="5346">“打车公司”是一个类，滴滴则是这个类的一个实例对象（也可以隐藏 实例 这个称呼）；</p>
</li>
<li data-nodeid="5347">
<p data-nodeid="5348">“酱油”是一个类，海天酱油 则是一个对象；</p>
</li>
<li data-nodeid="5349">
<p data-nodeid="5350">“车”是一个类，奔驰车则是一个对象。</p>
</li>
</ul>
<p data-nodeid="5351">细心的你不难发现，类与对象本质上是抽象与具象的关系，对象在类的基础上进行了适当的具象。所以在某个抽象关系中的对象也可能会成为另一个抽象关系中的类。比如上面奔驰车是车的一个对象，那同样可能存在，奔驰车是一个类，而 S350L 是一个对象。</p>
<h4 data-nodeid="5352">Python 中的类</h4>
<p data-nodeid="5353">理解了类与对象，现在我们来看一下 Python 中的类，我们在开头的例子中提到，类是用来把有联系的数据和函数给组织起来的一种方式。</p>
<p data-nodeid="5354">在类中，<strong data-nodeid="5539">数据被称为属性，而函数则被称为方法。每个类都可以有零个或者多个属性，也可以有零个或者多个方法。</strong></p>
<p data-nodeid="5355">类的属性和方法的概念也很适合用来描述现实世界，比如“人”这个类，身高、体重、年龄等就是属性，而走路、吃饭、打球 等动作就是方法。</p>
<p data-nodeid="5356">接下来，我们通过一个例子来演示怎么定义类，怎么使用类。</p>
<h4 data-nodeid="5357">定义一个“人”的类</h4>
<p data-nodeid="5358">现在我们尝试定义一个人的类。需要有年龄、性别、姓名三个属性，并提供两个方法：introduce 方法，打印一句介绍自己的话。get_age 方法，返回当前对象的 age。</p>
<pre class="lang-python hljs" data-nodeid="5359"><code data-language="python"><span class="hljs-comment"># 类的定义环节</span>
<span class="hljs-class"><span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title">Person</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.name&nbsp;=&nbsp;<span class="hljs-string">""</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.age&nbsp;=&nbsp;<span class="hljs-number">0</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.gender&nbsp;=&nbsp;<span class="hljs-string">""</span>

&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">introduce</span>(<span class="hljs-params">self</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"Hello,&nbsp;我是"</span>&nbsp;+&nbsp;self.name)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"我今年&nbsp;"</span>&nbsp;+&nbsp;str(self.age)&nbsp;+&nbsp;<span class="hljs-string">"&nbsp;岁"</span>)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"另外,&nbsp;我是"</span>&nbsp;+&nbsp;self.gender)

&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">get_age</span>(<span class="hljs-params">self</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;self.age
<span class="hljs-comment"># 使用上面定义的类</span>
xm&nbsp;=&nbsp;Person()
xm.name&nbsp;=&nbsp;<span class="hljs-string">"小明"</span>
xm.age&nbsp;=&nbsp;<span class="hljs-string">"25"</span>
xm.gender&nbsp;=&nbsp;<span class="hljs-string">"男生"</span>
print(xm.get_age())
xm.introduce()
</code></pre>
<p data-nodeid="5360">简单说一下上面的代码的主要逻辑，你主要看代码就好。</p>
<ul data-nodeid="5361">
<li data-nodeid="5362">
<p data-nodeid="5363">在定义环节：</p>
<ul data-nodeid="5364">
<li data-nodeid="5365">
<p data-nodeid="5366">定义了一个类：Person（类名首字母用<strong data-nodeid="5565">大写</strong>），并用 <strong data-nodeid="5566">init</strong> 函数中初始化了三个属性：name，age，gender。（<strong data-nodeid="5567">init</strong> 函数，前后都有两个下划线，代表<strong data-nodeid="5568">初始化函数</strong>。简单来说就是，当我们创建这个类的对象的时候，这个函数会被自动执行，不用你再shift+enter。）</p>
</li>
<li data-nodeid="5367">
<p data-nodeid="5368">定义了 introduce 方法，会把几个属性的值组合成一段自我介绍，这里我们通过方法参数 self.属性名 的形式来拿到类的属性的值。这种形式叫作**点语法。**点语法的本质就是找点前面的对象拿点后面的属性的值。比如 A.B 代表 A对象的B属性的值。</p>
</li>
<li data-nodeid="5369">
<p data-nodeid="5370">定义了 get_age 方法，把当前对象的 age 对象的值返回。可以看到，无论是 introduce 方法 还是 get_age 方法，都有一个 self 参数。这是 Python 的语法规定，<strong data-nodeid="5585">类的方法的第一个参数都必须是 self</strong>。这样方法内部就能通过对 self 使用点语法来获取属性的值。</p>
</li>
</ul>
</li>
<li data-nodeid="5371">
<p data-nodeid="5372">使用环节：</p>
<ul data-nodeid="5373">
<li data-nodeid="5374">
<p data-nodeid="5375">注意从我们使用的类的代码开始，我们这里就没有缩进。因为有缩进就会被认为还是在类的内部，但这里的代码是在外部的，所以不用缩进；</p>
</li>
<li data-nodeid="5376">
<p data-nodeid="5377">我们创建了一个 Person 对象，存在变量 xm 中，之后逐一给它的属性赋值</p>
</li>
<li data-nodeid="5378">
<p data-nodeid="5379">打印 xm 对象的 get_age 方法返回的值</p>
</li>
<li data-nodeid="5380">
<p data-nodeid="5381">调用 xm 对象的 introduce</p>
</li>
</ul>
</li>
</ul>
<p data-nodeid="5382">运行后，输出如下所示：</p>
<pre class="lang-java hljs" data-nodeid="5383"><code data-language="java"><span class="hljs-number">25</span>
Hello, 我是小明
我今年 <span class="hljs-number">25</span> 岁
另外, 我是男生
</code></pre>
<p data-nodeid="5384">可以看到，通过类的机制，我们成功地把数据和函数绑定在了一起。比如上面例子的数据：name、age、gender 和函数：get_age、introduce。并且类提供了一种机制（self 参数），能够让类的方法可以访问类的属性。</p>
<h4 data-nodeid="5385">给属性赋值</h4>
<p data-nodeid="5386">回看刚刚的例子，我们创建了 Person 类的对象之后，逐一对他的属性赋值，每一次属性赋值都需要针对 xm 对象使用点语法，比较麻烦，有没有更好的方式呢？ 答案是肯定的。</p>
<p data-nodeid="5387">我们稍微改造一下刚才的例子，改造后的代码如下所示：</p>
<pre class="lang-python hljs" data-nodeid="5388"><code data-language="python"><span class="hljs-class"><span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title">Person</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">__init__</span>(<span class="hljs-params">self,&nbsp;name,&nbsp;age,&nbsp;gender</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.name&nbsp;=&nbsp;name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.age&nbsp;=&nbsp;age
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.gender&nbsp;=&nbsp;gender

&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">introduce</span>(<span class="hljs-params">self</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"Hello,&nbsp;我是"</span>&nbsp;+&nbsp;self.name)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"我今年&nbsp;"</span>&nbsp;+&nbsp;str(self.age)&nbsp;+&nbsp;<span class="hljs-string">"&nbsp;岁"</span>)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"另外,&nbsp;我是"</span>&nbsp;+&nbsp;self.gender)

&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">get_age</span>(<span class="hljs-params">self</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;self.age
xm&nbsp;=&nbsp;Person(<span class="hljs-string">"小明"</span>,&nbsp;<span class="hljs-number">25</span>,&nbsp;<span class="hljs-string">"男生"</span>)
print(xm.get_age())
xm.introduce()
</code></pre>
<p data-nodeid="5389">执行之后，输出和刚才是一致的。</p>
<pre class="lang-java hljs" data-nodeid="5390"><code data-language="java"><span class="hljs-number">25</span>
Hello, 我是小明
我今年 <span class="hljs-number">25</span> 岁
另外, 我是男生
</code></pre>
<p data-nodeid="5391">不同在哪儿呢？是这里。</p>
<p data-nodeid="5392"><img src="https://s0.lgstatic.com/i/image6/M00/37/96/CioPOWB35-qAUd1zAAdSWJhKJGY565.png" alt="Drawing 0.png" data-nodeid="5604"></p>
<p data-nodeid="5393">现在我们不需要进行逐个属性的赋值，而是在构造对象的阶段就完成了几个属性的初始化。</p>
<p data-nodeid="5394">这其中的奥妙就在 <strong data-nodeid="5621">init</strong> 方法里，我们给 <strong data-nodeid="5622">init</strong> 函数加了参数，然后用这些参数直接在 __init__的函数体中给我们的属性赋值。这样直接在创建对象的时候，把对应的值依次放在类名后的括号中，用逗号分隔。就能实现一次性地给属性都赋值，精简了代码。</p>
<h3 data-nodeid="5395">常见的系统类</h3>
<p data-nodeid="5396">类和函数一样，类同样也有 Python 的开发者们提前写好提供给我们使用的类，一般称为系统类。上面举的例子都是我们自己实现的类，本节会重点介绍常用的系统类。</p>
<h4 data-nodeid="5397">列表(list)</h4>
<p data-nodeid="5398">列表相信大家都不陌生，在变量与数据类型一章已经介绍过，它是 Python 非常常用的数据类型。</p>
<p data-nodeid="5399">这里介绍一下列表的基础使用，代码如下：</p>
<pre class="lang-python hljs" data-nodeid="5400"><code data-language="python"><span class="hljs-comment">#&nbsp;创建列表</span>
a&nbsp;=&nbsp;[<span class="hljs-number">90</span>,<span class="hljs-number">1</span>,<span class="hljs-number">23</span>,&nbsp;<span class="hljs-number">15</span>]
<span class="hljs-comment">#&nbsp;访问某个元素(下表从&nbsp;0&nbsp;开始)</span>
print(<span class="hljs-string">"Third&nbsp;number&nbsp;is&nbsp;"</span>,a[<span class="hljs-number">2</span>])
<span class="hljs-comment">#&nbsp;使用&nbsp;append&nbsp;方法添加元素</span>
a.append(<span class="hljs-number">-1</span>)
print(<span class="hljs-string">"After&nbsp;append:&nbsp;"</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;删除某个位置的元素</span>
<span class="hljs-keyword">del</span>&nbsp;a[<span class="hljs-number">1</span>]
print(<span class="hljs-string">"After&nbsp;delete&nbsp;second&nbsp;number:&nbsp;"</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;删除具体某个元素</span>
a.remove(<span class="hljs-number">15</span>)
print(<span class="hljs-string">"After&nbsp;delete&nbsp;15："</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;排序,默认从小到大</span>
a.sort()
print(<span class="hljs-string">"After&nbsp;sort"</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;逆排序，从大到小</span>
a.sort(reverse&nbsp;=&nbsp;<span class="hljs-literal">True</span>)
print(<span class="hljs-string">"After&nbsp;reverse&nbsp;sort"</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;求长度</span>
print(<span class="hljs-string">"Length:&nbsp;"</span>,&nbsp;len(a))
</code></pre>
<p data-nodeid="5401">上面主要方法都有注释，这里不再展开，你可以结合以下输出和代码，加深理解。重要的是你要知道，如果之后让你做某个事（删除、排序等），你能直接使用 list 类对应的方法。而不需要自己写循环完成。</p>
<pre class="lang-java hljs" data-nodeid="5402"><code data-language="java">Third number is  <span class="hljs-number">23</span>
After append:  [<span class="hljs-number">90</span>, <span class="hljs-number">1</span>, <span class="hljs-number">23</span>, <span class="hljs-number">15</span>, -<span class="hljs-number">1</span>]
After delete second number:  [<span class="hljs-number">90</span>, <span class="hljs-number">23</span>, <span class="hljs-number">15</span>, -<span class="hljs-number">1</span>]
After delete <span class="hljs-number">15</span>： [<span class="hljs-number">90</span>, <span class="hljs-number">23</span>, -<span class="hljs-number">1</span>]
After sort [-<span class="hljs-number">1</span>, <span class="hljs-number">23</span>, <span class="hljs-number">90</span>]
After reverse sort [<span class="hljs-number">90</span>, <span class="hljs-number">23</span>, -<span class="hljs-number">1</span>]
Length:  <span class="hljs-number">3</span>
</code></pre>
<h4 data-nodeid="5403">字符串(string)</h4>
<p data-nodeid="5404">字符串我们用的也是非常多的，在之前也介绍过一些基础用法，比如用 + 号来连接两个字符串，这里我们再介绍额外的一些用法。</p>
<pre class="lang-python te-preview-highlight hljs" data-nodeid="9848"><code data-language="python">a&nbsp;=&nbsp;<span class="hljs-string">"Hello,this&nbsp;is&nbsp;my&nbsp;home,welcome"</span>
<span class="hljs-comment">#&nbsp;添加字符</span>
a&nbsp;=&nbsp;a&nbsp;+&nbsp;<span class="hljs-string">",pp"</span>
print(<span class="hljs-string">"\nAfter&nbsp;append&nbsp;pp:\n"</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;删除前&nbsp;x&nbsp;个字符，比如&nbsp;3</span>
a&nbsp;=&nbsp;a[<span class="hljs-number">3</span>:]
print(<span class="hljs-string">"\nAfter&nbsp;remove&nbsp;first&nbsp;3&nbsp;characters:\n"</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;删除固定内容的字符</span>
a&nbsp;=&nbsp;a.replace(<span class="hljs-string">"my"</span>,<span class="hljs-string">""</span>)
print(<span class="hljs-string">"\nAfter&nbsp;remove&nbsp;'my':\n"</span>,&nbsp;a)
<span class="hljs-comment">#&nbsp;替换固定内容成另外一个字符串</span>
a&nbsp;=&nbsp;a.replace(<span class="hljs-string">"home"</span>,&nbsp;<span class="hljs-string">"company"</span>)
print(<span class="hljs-string">"\nAfter&nbsp;replace&nbsp;'home'&nbsp;to&nbsp;'company':\n"</span>,a)
<span class="hljs-comment">#&nbsp;用某个字符分割字符串，返回一个数组，比如逗号</span>
str_list&nbsp;=&nbsp;a.split(<span class="hljs-string">","</span>)
print(<span class="hljs-string">"\nList&nbsp;split&nbsp;from&nbsp;string&nbsp;by&nbsp;comma:\n"</span>,&nbsp;str_list)
</code></pre>






<p data-nodeid="5406">输出</p>
<pre class="lang-java hljs" data-nodeid="5407"><code data-language="java">After append pp:
 Hello,<span class="hljs-keyword">this</span> is my home,welcome,pp
After remove first <span class="hljs-number">3</span> characters:
 lo,<span class="hljs-keyword">this</span> is my home,welcome,pp
After remove <span class="hljs-string">'my'</span>:
 lo,<span class="hljs-keyword">this</span> is  home,welcome,pp
After replace <span class="hljs-string">'home'</span> to <span class="hljs-string">'company'</span>:
 lo,<span class="hljs-keyword">this</span> is  company,welcome,pp
List split from string by comma:
 [<span class="hljs-string">'lo'</span>, <span class="hljs-string">'this is  company'</span>, <span class="hljs-string">'welcome'</span>, <span class="hljs-string">'pp'</span>]
</code></pre>
<h4 data-nodeid="5408">字典(dict)</h4>
<p data-nodeid="5409">字典和列表、字符串一样，也是 Python 中相对常用的数据类型，同样也是系统类。因为复杂一些，所以在变量与数据类型一节没有介绍。</p>
<p data-nodeid="5410">字典和列表类似，也是存储多个变量的容器。但与列表不同的是，字典存储的不仅仅只有变量，还有变量之间的映射关系。</p>
<p data-nodeid="5411">我们举个例子，假设我们要存储部门里三位技术顾问的年龄，可以用列表来完成，比如 a = [30, 45, 50], 但如果我们不仅要存储年龄，还得存储这三位工程师的名字。那用列表就无能为力了。</p>
<p data-nodeid="5412">简单来说，我们希望存储一个名字-年龄的映射关系。在这个例子上就是要存储这种形式的数据：王叔：30，张叔：45，李叔：50。在 Python 中，这种有对应关系的两个变量我们称之为键值对。比如王叔就是 键(key)，而 30 就是值（value），一个键会唯一对应到一个值。</p>
<p data-nodeid="5413">这里我们希望存储的就是三个键值对。而字典，就是专门用来存储键值对的容器。</p>
<p data-nodeid="5414">我们以下面的例子来演示字典的使用，结合列表的例子可以帮助你快速理解。</p>
<pre class="lang-python hljs" data-nodeid="5415"><code data-language="python"><span class="hljs-comment">#&nbsp;创建一个空字典，用&nbsp;花括号&nbsp;{}</span>
d&nbsp;=&nbsp;{}
print(<span class="hljs-string">"Empty&nbsp;dict:"</span>,&nbsp;d)
<span class="hljs-comment">#&nbsp;用键值对创建字典，键和值中间用冒号隔开，不同的键值对用逗号隔开</span>
d&nbsp;=&nbsp;{<span class="hljs-string">"xiaoming"</span>&nbsp;:&nbsp;<span class="hljs-number">3.5</span>&nbsp;,&nbsp;<span class="hljs-string">"xiaohong"</span>:&nbsp;<span class="hljs-number">4</span>}
print(<span class="hljs-string">"Two&nbsp;key-value&nbsp;pair&nbsp;dict:"</span>,&nbsp;d)
<span class="hljs-comment">#&nbsp;访问字典的元素，和列表一样用中括号，但传入&nbsp;key，查询&nbsp;value。比如查询&nbsp;xiaoming&nbsp;的司龄</span>
print(<span class="hljs-string">"Xiaoming's&nbsp;company&nbsp;age:"</span>,&nbsp;d[<span class="hljs-string">"xiaoming"</span>])
<span class="hljs-comment">#&nbsp;添加新的键值对，直接对&nbsp;key&nbsp;对应的&nbsp;value&nbsp;赋值即可</span>
d[<span class="hljs-string">"xiaogang"</span>]&nbsp;=&nbsp;<span class="hljs-number">5.5</span>
print(<span class="hljs-string">"After&nbsp;append&nbsp;xiaogang:"</span>,&nbsp;d)
<span class="hljs-comment">#&nbsp;删除键值对，类似列表删除，只是中括号内写&nbsp;key，而不是序号</span>
<span class="hljs-keyword">del</span>&nbsp;d[<span class="hljs-string">"xiaohong"</span>]
print(<span class="hljs-string">"After&nbsp;remove&nbsp;xiaohong:"</span>,&nbsp;d)
<span class="hljs-comment">#&nbsp;修改键值对，同添加一样，直接对某个已有的&nbsp;key&nbsp;重新赋值即可</span>
d[<span class="hljs-string">"xiaoming"</span>]&nbsp;=&nbsp;<span class="hljs-number">9.3</span>
print(<span class="hljs-string">"After&nbsp;change&nbsp;xiaoming's&nbsp;value:"</span>,&nbsp;d)
</code></pre>
<p data-nodeid="5416">输出</p>
<pre class="lang-java hljs" data-nodeid="5417"><code data-language="java">Empty dict: {}
Two key-value pair dict: {'xiaoming': 3.5, 'xiaohong': 4}
Xiaoming's company age: 3.5
After append xiaogang: {'xiaoming': 3.5, 'xiaohong': 4, 'xiaogang': 5.5}
After remove xiaohong: {'xiaoming': 3.5, 'xiaogang': 5.5}
After change xiaoming's value: {'xiaoming': 9.3, 'xiaogang': 5.5}
</code></pre>
<h3 data-nodeid="5418">实战类与对象</h3>
<p data-nodeid="5419">通过一段时间的学习，你成功拿到了阿普尔星球最大的电商网站：阿普闪购的 OFFER！成为一名助理数据分析师。入职第一天，你的 mentor 交给你一项任务：记录公司部门的信息，每个部门都需要统计部门名称、员工列表、部门主管的姓名等信息。另外还有两个要求：</p>
<ul data-nodeid="5420">
<li data-nodeid="5421">
<p data-nodeid="5422">部门员工入职和离职都能方便的更新信息；</p>
</li>
<li data-nodeid="5423">
<p data-nodeid="5424">可以方便地查看某个部门的汇总信息。</p>
</li>
</ul>
<p data-nodeid="5425">问题分析：</p>
<ul data-nodeid="5426">
<li data-nodeid="5427">
<p data-nodeid="5428">目前我们需要记录的信息都是围绕部门这个实体的，所以我们可以用一个部门的类来记录，部门名称、员工列表和部门主管则都是这个类的属性。</p>
</li>
<li data-nodeid="5429">
<p data-nodeid="5430">另外的要求是有人员变动的时候方便更新信息，那其实就是部门类需要提供增加人员和减少人员的方法。</p>
</li>
<li data-nodeid="5431">
<p data-nodeid="5432">最后一个要求是方便查看部门汇总，那其实就是需要一个打印方法，来把部门的属性都打印出来。</p>
</li>
</ul>
<p data-nodeid="5433">我们接下来一步步来实现它。</p>
<h4 data-nodeid="5434">（1）创建部门类</h4>
<p data-nodeid="5435">我们首先创建部门类和它的属性，部门名称和主管姓名，是字符串类型的变量，这两个属性我们通过初始化函数的参数来初始化。而员工列表是一个列表类型，我们先把它初始化成一个空列表。</p>
<pre class="lang-python hljs" data-nodeid="5436"><code data-language="python"><span class="hljs-class"><span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title">Department</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">__init__</span>(<span class="hljs-params">self, dep_name,&nbsp;boss_name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.dep_name&nbsp;=&nbsp;dep_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.boss_name&nbsp;=&nbsp;boss_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list&nbsp;=&nbsp;[]
</code></pre>
<p data-nodeid="5437">其中：</p>
<ul data-nodeid="5438">
<li data-nodeid="5439">
<p data-nodeid="5440">dep_name 是部门的名字</p>
</li>
<li data-nodeid="5441">
<p data-nodeid="5442">boss_name 是部门主管的名字</p>
</li>
<li data-nodeid="5443">
<p data-nodeid="5444">stuff_list 是员工列表，我们将其初始化为一个空列表。</p>
</li>
</ul>
<p data-nodeid="5445">要创建一个部门类的对象，只需要在类名后面传入具体的部门名和主管名即可。比如：</p>
<pre class="lang-python hljs" data-nodeid="5446"><code data-language="python">it_dep&nbsp;=&nbsp;Department(<span class="hljs-string">"it部"</span>,&nbsp;<span class="hljs-string">"小明"</span>)
</code></pre>
<h4 data-nodeid="5447">（2）实现增加员工的方法</h4>
<p data-nodeid="5448">目前员工列表，也就是 stuff_list 属性还是空列表，为了实现往这个列表增加员工的名字，我们需要在部门类增加一个添加员工的方法，我们就命名为 add_stuff。这个方法除了类方法必须带的 self 参数之外，只有一个参数：要添加的员工的姓名。</p>
<p data-nodeid="5449">然后方法里面只需要把这个姓名添加到 stuff_list 即可，添加数据到列表，只需要调用列表对象的 append 方法即可。</p>
<p data-nodeid="5450">根据上述分析，我们给 Department 类增加 add_stuff 方法。添加方法之后的类代码如下所示：</p>
<pre class="lang-python hljs" data-nodeid="5451"><code data-language="python"><span class="hljs-class"><span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title">Department</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">__init__</span>(<span class="hljs-params">self,dep_name,&nbsp;boss_name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.dep_name&nbsp;=&nbsp;dep_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.boss_name&nbsp;=&nbsp;boss_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list&nbsp;=&nbsp;[]
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;新增代码</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">add_stuff</span>(<span class="hljs-params">self,&nbsp;name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list.append(name)
</code></pre>
<h4 data-nodeid="5452">（3）实现删除员工的方法</h4>
<p data-nodeid="5453">部门会新增员工，比如员工入职，或者调入。也可能会减少员工，比如员工离职，比如转岗去其他部门，所以我们同样需要一个删除员工的方法。</p>
<p data-nodeid="5454">类似添加员工的设计，删除员工的方法同样需要员工姓名的参数，在方法内部调用 stuff_list 对象的 remove 方法来将员工从列表中移除。</p>
<p data-nodeid="5455">添加之后的类代码如下所示：</p>
<pre class="lang-python hljs" data-nodeid="5456"><code data-language="python"><span class="hljs-class"><span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title">Department</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">__init__</span>(<span class="hljs-params">self,dep_name,&nbsp;boss_name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.dep_name&nbsp;=&nbsp;dep_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.boss_name&nbsp;=&nbsp;boss_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list&nbsp;=&nbsp;[]
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">add_stuff</span>(<span class="hljs-params">self,&nbsp;name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list.append(name)

&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;新增代码</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">remove_stuff</span>(<span class="hljs-params">self,&nbsp;name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list.remove(name)
</code></pre>
<h4 data-nodeid="5457">（4）添加打印部门信息的方法</h4>
<p data-nodeid="5458">打印部门信息，就是将部门的三个属性直接打印出来，比较简单，这里我们直接实现：</p>
<p data-nodeid="5459">添加之后的类代码如下所示</p>
<pre class="lang-python hljs" data-nodeid="5460"><code data-language="python"><span class="hljs-class"><span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title">Department</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">__init__</span>(<span class="hljs-params">self,dep_name,&nbsp;boss_name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.dep_name&nbsp;=&nbsp;dep_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.boss_name&nbsp;=&nbsp;boss_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list&nbsp;=&nbsp;[]
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">add_stuff</span>(<span class="hljs-params">self,&nbsp;name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list.append(name)

&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">remove_stuff</span>(<span class="hljs-params">self,&nbsp;name</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stuff_list.remove(name)

&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;新增代码</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">print_dep_info</span>():</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"部门："</span>,self.dep_name)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"主管："</span>,self.boss_name)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"员工："</span>,self.stuff_list)
</code></pre>
<h4 data-nodeid="5461">（5）使用部门类</h4>
<p data-nodeid="5462">现在，我们的部门类已经开发完毕了，现在让我们来用一用它，看看它是不是好使。</p>
<p data-nodeid="5463">首先是记录部门信息，假设现在先记录2个部门：it部和财务部。首先要分别创建两个部门的对象：</p>
<pre class="lang-python hljs" data-nodeid="5464"><code data-language="python">it_dep&nbsp;=&nbsp;Department(<span class="hljs-string">"it部"</span>,&nbsp;<span class="hljs-string">"小明"</span>)
finance_dep&nbsp;=&nbsp;Department(<span class="hljs-string">"财务部"</span>,&nbsp;<span class="hljs-string">"红姐"</span>)
</code></pre>
<p data-nodeid="5465">然后，通过调用部门对象的 add_stuff 方法录入员工的名字</p>
<pre class="lang-python hljs" data-nodeid="5466"><code data-language="python">it_dep.add_stuff(<span class="hljs-string">"小亮"</span>)
it_dep.add_stuff(<span class="hljs-string">"小七"</span>)
finance_dep.add_stuff(<span class="hljs-string">"小E"</span>)
finance_dep.add_stuff(<span class="hljs-string">"小洁"</span>)
</code></pre>
<p data-nodeid="5467">现在，我们部门数据的记录就完成了，可以通过调用部门对象的 print_dep_info 来查看部门的详细信息，如查看 It 部的信息：</p>
<pre class="lang-python hljs" data-nodeid="5468"><code data-language="python">it_dep.print_dep_info()
finance_dep.print_dep_info()
</code></pre>
<p data-nodeid="5469">执行后输出</p>
<pre class="lang-java hljs" data-nodeid="5470"><code data-language="java">部门： it部
主管： 小明
员工： [<span class="hljs-string">'小亮'</span>, <span class="hljs-string">'小七'</span>]
部门： 财务部
主管： 红姐
员工： [<span class="hljs-string">'小E'</span>, <span class="hljs-string">'小洁'</span>]
</code></pre>
<p data-nodeid="5471">最后，当有人需要离职时，只需要调用 remove_stuff 方法即可，假设 it 部的小七决定去创业，要离职，我们需要将他从部门列表中移除。</p>
<pre class="lang-python hljs" data-nodeid="5472"><code data-language="python">it_dep.remove_stuff(<span class="hljs-string">"小七"</span>)
</code></pre>
<p data-nodeid="5473">为了查看是否成功移除，我们再次调用打印部门信息的方法。</p>
<pre class="lang-python hljs" data-nodeid="5474"><code data-language="python">it_dep.print_dep_info()
</code></pre>
<p data-nodeid="5475">输出</p>
<pre class="lang-java hljs" data-nodeid="5476"><code data-language="java">部门： it部
主管： 小明
员工： [<span class="hljs-string">'小亮'</span>]
</code></pre>
<p data-nodeid="5477">可以看到，小七已经不在员工列表中了。</p>
<p data-nodeid="5478">至此，我们通过类与对象的方法，完成了部门信息统计的任务，并且可以非常方便地处理员工增加和减少的场景。</p>
<h3 data-nodeid="5479">小结</h3>
<p data-nodeid="5480">总结一下，今天我们学习了 Python 除函数之外另一个重要的概念：类与对象。类通过属性和方法来将数据和代码组织在一起，对象则是类的实例。</p>
<p data-nodeid="5481">举例来说，“人”是一个类，对于这个类而言：身高、体重、年龄是属性，走路、吃饭、睡觉是方法。一般来说名词多半是属性，而动词多半是方法。“小明”则是人这个类的一个对象。</p>
<p data-nodeid="5482">之后，我们学习了 Python 中类的定义，主要有以下几个关键点：</p>
<ul data-nodeid="5483">
<li data-nodeid="5484">
<p data-nodeid="5485">所有方法都有 self 参数，一方面这是 Python 的语法规则，另一方面方法中访问属性也需要用到 self；</p>
</li>
<li data-nodeid="5486">
<p data-nodeid="5487">在 <strong data-nodeid="5716">init</strong> 方法中，需要给属性赋值，避免后续使用属性的时候属性还没有值，导致程序出错；</p>
</li>
<li data-nodeid="5488">
<p data-nodeid="5489">可以给 <strong data-nodeid="5722">init</strong> 方法增加参数，来让构造对象的时候就传入初始化属性的值，这样就可以避免在创建对象之后还逐个属性赋值，造成代码的冗余；</p>
</li>
<li data-nodeid="5490">
<p data-nodeid="5491">使用类时，通过 对象 = 类名(参数...) 的形式构造对象，这是 Python的语法规则，照做就好；</p>
</li>
<li data-nodeid="5492">
<p data-nodeid="5493">通过点语法来访问对象的属性或者执行对象的方法，同样，这也是 Python 的语法规则。</p>
</li>
</ul>
<p data-nodeid="5494">然后，我们学习了 Python 常见的三个系统类的基本用法。</p>
<ul data-nodeid="5495">
<li data-nodeid="5496">
<p data-nodeid="5497">列表：按顺序存储多个元素的类。</p>
</li>
<li data-nodeid="5498">
<p data-nodeid="5499">字符串：按顺序存储多个字符的类。</p>
</li>
<li data-nodeid="5500">
<p data-nodeid="5501">字典：存储对应关系（键值对）的类。</p>
</li>
</ul>
<p data-nodeid="5502">最后，我们通过一个统计部门信息的实战案例，练习了类与对象的使用方法和技巧。</p>
<p data-nodeid="5503">至此，我们整个 Python 语言的理论知识部分就学习完毕啦！ 恭喜你，下一章，我们即将进入实战 Python 语言的环节，你是否已经摩拳擦掌了呢！别慌，先完成课后练习。</p>
<h4 data-nodeid="5504">课后练习</h4>
<p data-nodeid="5505">编写一个车的类，包含属性：公里数、油耗、马力。</p>
<p data-nodeid="5506">包含方法：</p>
<ul data-nodeid="5507">
<li data-nodeid="5508">
<p data-nodeid="5509">introduce，打印出车辆的基本信息</p>
</li>
<li data-nodeid="5510">
<p data-nodeid="5511">print_eco_info, 打印环保信息，如果油耗大于 10，则打印不及格，大于 6 小于等于 10，则打印及格，小于等于 6 则打印优秀</p>
</li>
</ul>
<hr data-nodeid="5512">
<p data-nodeid="5513">答案：</p>
<pre class="lang-python hljs" data-nodeid="5514"><code data-language="python"><span class="hljs-class"><span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title">Car</span>:</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">__init__</span>(<span class="hljs-params">self,&nbsp;miles,&nbsp;fuel,&nbsp;horsepower</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.total_miles&nbsp;=&nbsp;miles
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.fuel&nbsp;=&nbsp;fuel
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.horsepower&nbsp;=&nbsp;horsepower
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">pass</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">introduce</span>(<span class="hljs-params">self</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"我的里程："</span>,&nbsp;self.total_miles)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"我的油耗："</span>,&nbsp;self.fuel)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"我的马力："</span>,&nbsp;self.horsepower)
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span>&nbsp;<span class="hljs-title">print_eco_info</span>(<span class="hljs-params">self</span>):</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span>&nbsp;self.fuel&nbsp;&gt;&nbsp;<span class="hljs-number">10</span>&nbsp;:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"不及格"</span>)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">elif</span>&nbsp;self.fuel&nbsp;&gt;&nbsp;<span class="hljs-number">6</span>:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"及格"</span>)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">else</span>:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">"良好"</span>)
car1&nbsp;=&nbsp;Car(<span class="hljs-number">14000</span>,&nbsp;<span class="hljs-number">11</span>,&nbsp;<span class="hljs-number">200</span>)
car2&nbsp;=&nbsp;Car(<span class="hljs-number">2000</span>,<span class="hljs-number">5</span>,&nbsp;<span class="hljs-number">175</span>)
car1.introduce()
car1.print_eco_info()
print(<span class="hljs-string">""</span>)
car2.introduce()
car2.print_eco_info()
</code></pre>
<p data-nodeid="5515">输出</p>
<pre class="lang-python hljs" data-nodeid="5516"><code data-language="python">我的里程： <span class="hljs-number">14000</span>
我的油耗： <span class="hljs-number">11</span>
我的马力： <span class="hljs-number">200</span>
不及格
我的里程： <span class="hljs-number">2000</span>
我的油耗： <span class="hljs-number">5</span>
我的马力： <span class="hljs-number">175</span>
良好
</code></pre>
<hr data-nodeid="5517">
<p data-nodeid="5518" class="">由于此专栏都是实操课程，前面安装，后面实操。一步接一步！所以一旦你在安装，或者某课时实操出现问题，就会卡住，影响学习效率。为了让你更方便地学习Python，我和编辑会组织个实战小群，对安装软件或者某课时实操步骤有问题的，小编会 1 对 1、手把手解决。 编辑微信号：15701141446 备注：Python喔！</p></div>

</body></html>