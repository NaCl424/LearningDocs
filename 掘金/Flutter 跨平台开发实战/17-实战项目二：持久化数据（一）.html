<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç¬¬ 01 è®²ï¼šè®¾è®¡ä¸€ä»½å¸å¼•é¢è¯•å®˜çš„ç®€å†</title>
<style type="text/css">
:root {
    --control-text-color: #777;
    --select-text-bg-color: rgba(223, 197, 223);  /*#7e66992e;*/
    
    /* side bar */
    --side-bar-bg-color: rgb(255, 255, 255);
    --active-file-text-color: #8163bd;
    --active-file-bg-color: #E9E4F0;
    --item-hover-bg-color: #E9E4F0;
    --active-file-border-color: #8163bd;

    --title-color: #6c549c;
    --font-sans-serif: 'Ubuntu', 'Source Sans Pro', sans-serif !important;
    --font-monospace: 'Fira Code', 'Roboto Mono', monospace !important;
    --purple-1: #8163bd;
    --purple-2: #79589F;
    --purple-3: #fd5eb8;
    --purple-light-1: rgba(99, 99, 172, .05);
    --purple-light-2: rgba(99, 99, 172, .1);
    --purple-light-3: rgba(99, 99, 172, .2);
    --purple-light-4: rgba(129, 99, 189, .3);
    --purple-light-5: #E9E4F0;
    --purple-light-6: rgba(129, 99, 189, .8);
}

/* html {
    font-size: 16px;
} */

body {
    font-family: var(--font-sans-serif);
    color: #34495e;
    -webkit-font-smoothing: antialiased;
    line-height: 1.6rem;
    letter-spacing: 0;
    margin: 0;
    overflow-x: hidden;
}

/* é¡µè¾¹è· å’Œ é¡µé¢å¤§å° */
#write {
    padding-left: 6ch;
    padding-right: 6ch;
    margin: 0 auto;
}

#write p {
    line-height: 1.6rem;
    word-spacing: .05rem;
}

#write ol li {
    padding-left: 0.5rem;
}

#write > ul:first-child,
#write > ol:first-child {
    margin-top: 30px;
}

body > *:first-child {
    margin-top: 0 !important;
}

body > *:last-child {
    margin-bottom: 0 !important;
}

a {
    color: var(--purple-1);
    padding: 0 2px;
    text-decoration: none;
}
.md-content {
    color: var(--purple-light-6);
}
#write a {
    border-bottom: 1px solid var(--purple-1);
    color: var(--purple-1);
    text-decoration: none;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    /* font-weight: bold; */
    font-weight: 500 !important;
    line-height: 1.4;
    cursor: text;
    color: var(--title-color);
    font-family: var(--font-sans-serif);
}

h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}

h1 tt,
h1 code {
    font-size: inherit !important;
}
h2 tt,
h2 code {
    font-size: inherit !important;
}
h3 tt,
h3 code {
    font-size: inherit !important;
}
h4 tt,
h4 code {
    font-size: inherit !important;
}
h5 tt,
h5 code {
    font-size: inherit !important;
}
h6 tt,
h6 code {
    font-size: inherit !important;
}


h1 {
    padding-bottom: .4rem;
    font-size: 2.2rem;
    line-height: 1.3;
}
h1 {
    text-align: center;
    padding-bottom: 0.3em;
    font-size: 2.2em;
    line-height: 1.2;
    margin: 2.4em auto 1.2em;
}
h1:after {
    content: '';
    display: block;
    margin: 0.2em auto 0;
    width: 100px;
    height: 2px;
    border-bottom: 2px solid var(--title-color);
}

h2 {
    margin: 1.6em auto 0.5em;
    padding-left: 10px;
    line-height: 1.4;
    font-size: 1.8em;
    border-left: 9px solid var(--title-color);
    border-bottom: 1px solid var(--title-color);
}
h3 {
    font-size: 1.5rem;
    margin: 1.2em auto 0.5em;
}
h4 {
    font-size: 1.3rem;
}
h5 {
    font-size: 1.2rem;
}
h6 {
    font-size: 1.1rem;
}

p,
blockquote,
ul,
ol,
dl,
table {
    margin: 0.8em 0;
}

li > ol,
li > ul {
    margin: 0 0;
}

hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

body > h2:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child {
    margin-top: 0;
    padding-top: 0;
}

body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
}

body > h3:first-child,
body > h4:first-child,
body > h5:first-child,
body > h6:first-child {
    margin-top: 0;
    padding-top: 0;
}

a:first-child h1,
a:first-child h2,
a:first-child h3,
a:first-child h4,
a:first-child h5,
a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
}

h1 p,
h2 p,
h3 p,
h4 p,
h5 p,
h6 p {
    margin-top: 0;
}

li p.first {
    display: inline-block;
}

ul,
ol {
    padding-left: 30px;
}

ul:first-child,
ol:first-child {
    margin-top: 0;
}

ul:last-child,
ol:last-child {
    margin-bottom: 0;
}

/* å¼•ç”¨ */
blockquote {
    /* margin-left: 1rem; */
    border-left: 4px solid var(--purple-light-4);
    padding: 10px 15px;
    color: #777;
    background-color: var(--purple-light-1);
}

/* è¡¨æ ¼ */
table {
    padding: 0;
    word-break: initial;
}

table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}

/* è¡¨æ ¼ èƒŒæ™¯è‰² */
table tr:nth-child(2n),
thead {
    background-color: var(--purple-light-1);
}
#write table thead th {
    background-color: var(--purple-light-2);
}

table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}

table tr td {
    border: 1px solid #dfe2e5;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}

table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}

table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

/* ç²—ä½“ */
#write strong {
    padding: 0 2px;
    color: var(--purple-1);
}

/* æ–œä½“ */
#write em {
    padding: 0 5px 0 2px;
    /* font-style: normal; */
    color: #42b983;
}

/* inline code */
#write code, tt {
    padding: 2px 4px;
    border-radius: 2px;
    font-family: var(--font-monospace);
    font-size: 0.92rem;
    color: var(--purple-3); 
    background-color: rgba(99, 99, 172, .05);
}

tt {
    margin: 0 2px;
}

#write .md-footnote {
    background-color: #f8f8f8;
    color: var(--purple-3);
}

/* heighlight. */
#write mark {
    background-color: #fbd3ea;
    border-radius: 2px;
    padding: 2px 4px;
    margin: 0 2px;
}

#write del {
    padding: 1px 2px;
}

.md-task-list-item > input {
    margin-left: -1.3em;
}

@media print {
    html {
        font-size: 0.9rem;
    }

    table,
    pre {
        page-break-inside: avoid;
    }

    pre {
        word-wrap: break-word;
    }
}

#write pre.md-meta-block {
    padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block > .code-tooltip {
    bottom: .375rem;
}

/* å›¾ç‰‡ */
.md-image > .md-meta {
    border-radius: 3px;
    font-family: var(--font-monospace);
    padding: 2px 0 0 4px;
    font-size: 0.9em;
    color: inherit;
}
p .md-image:only-child{
    width: auto;
    text-align: left;
    margin-left: 2rem;
}
.md-tag {
    color: inherit;
}
/* å½“ â€œ![shadow-éšä¾¿å†™]()â€å†™æ—¶ï¼Œä¼šæœ‰é˜´å½± */
.md-image img[alt|='shadow'] {
    /* box-shadow: 0 4px 24px -6px #ddd; */
    box-shadow:var(--purple-light-2) 0px 10px 15px;
}

#write a.md-toc-inner {
    line-height: 1.6;
    white-space: pre-line;
    border-bottom: none;
    font-size: 0.9rem;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

#md-notification:before {
    top: 10px;
}

header,
.context-menu,
.megamenu-content,
footer {
    font-family: var(--font-sans-serif);
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state {
    visibility: visible;
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

/* ä»£ç æ¡† */
/* CodeMirror 3024 Day theme */

/* ä»£ç æ®µ èƒŒæ™¯ */
pre {
    --select-text-bg-color: rgba(223, 197, 223) !important;
    margin: .5em 0;
    padding: 1em 1.4em;
    border-radius: 8px;
    background: #f6f8fa;
    overflow-x: auto;
    box-sizing: border-box;
    font-size: 14px;
}

/* è¾¹æ¡† */
.md-fences {
    border: 1px solid #e7eaed;
    border-radius: 3px;
}

.cm-s-inner {
  padding: .25rem;
  border-radius: .25rem;
}

.cm-s-inner.CodeMirror, .cm-s-inner .CodeMirror-gutters {
  background-color: #f8f8f8 !important;
  color: #3a3432 !important;
  border: none;
}

.cm-s-inner .CodeMirror-gutters {
  color: #6d8a88;
}

.cm-s-inner .CodeMirror-cursor {
  border-left: solid thin #5c5855 !important;
}

.cm-s-inner .CodeMirror-linenumber {
  color: #807d7c;
}

.cm-s-inner .CodeMirror-line::selection, .cm-s-inner .CodeMirror-line::-moz-selection,
.cm-s-inner .CodeMirror-line > span::selection,
.cm-s-inner .CodeMirror-line > span::-moz-selection,
.cm-s-inner .CodeMirror-line > span > span::selection,
.cm-s-inner .CodeMirror-line > span > span::-moz-selection {
  background: var(--purple-light-2);
}

.cm-s-inner span.cm-comment {
  color: #cdab53;
}

.cm-s-inner span.cm-string, .cm-s-inner span.cm-string-2 {
  color: #f2b01d;
}

.cm-s-inner span.cm-number {
  color: #a34e8f;
}

.cm-s-inner span.cm-variable {
  color: #01a252;
}

.cm-s-inner span.cm-variable-2 {
  color: #01a0e4;
}

.cm-s-inner span.cm-def {
  /* color: #e8bbd0; */
  color: #e2287f;
}

.cm-s-inner span.cm-operator {
  color: #ff79c6;
}

.cm-s-inner span.cm-keyword {
  color: #db2d20;
}

.cm-s-inner span.cm-atom {
  color: #a34e8f;
}

.cm-s-inner span.cm-meta {
  color: inherit;
}

.cm-s-inner span.cm-tag {
  color: #db2d20;
}

.cm-s-inner span.cm-attribute {
  color: #01a252;
}

.cm-s-inner span.cm-qualifier {
  color: #388aa3;
}

.cm-s-inner span.cm-property {
  color: #01a252;
}

.cm-s-inner span.cm-builtin {
  color: #388aa3;
}

.cm-s-inner span.cm-variable-3, .cm-s-inner span.cm-type {
  color: #ffb86c;
}

.cm-s-inner span.cm-bracket {
  color: #3a3432;
}

.cm-s-inner span.cm-link {
  color: #a34e8f;
}

.cm-s-inner span.cm-error {
  background: #db2d20;
  color: #5c5855;
}

/* .md-fences.md-focus .cm-s-inner .CodeMirror-activeline-background {
  background: var(--purple-light-2);
} */

.cm-s-inner .CodeMirror-matchingbracket {
  text-decoration: underline;
  color: #a34e8f !important;
}

#fences-auto-suggest .active {
  background: #ddd;
}

#write .code-tooltip {
  bottom: initial;
  top: calc(100% - 1px);
  background: #f7f7f7;
  border: 1px solid #ddd;
  border-top: 0;
}

.auto-suggest-container {
  border-color: #b4b4b4;
}

.auto-suggest-container .autoComplt-hint.active {
  background: #b4b4b4;
  color: inherit;
}

/* task list */
#write .md-task-list-item > input {
  -webkit-appearance: initial;
  display: block;
  position: absolute;
  border: 1px solid #b4b4b4;
  border-radius: .25rem;
  margin-top: .1rem;
  margin-left: -1.8rem;
  height: 1.2rem;
  width: 1.2rem;
  transition: background 0.3s;
}

#write .md-task-list-item > input:focus {
  outline: none;
  box-shadow: none;
}

#write .md-task-list-item > input:hover {
  background: #ddd;
}

#write .md-task-list-item > input[checked]::before {
  content: '';
  position: absolute;
  top: 20%;
  left: 50%;
  height: 60%;
  width: 2px;
  transform: rotate(40deg);
  background: #333;
}

#write .md-task-list-item > input[checked]::after {
  content: '';
  position: absolute;
  top: 46%;
  left: 25%;
  height: 30%;
  width: 2px;
  transform: rotate(-40deg);
  background: #333;
}

#write .md-task-list-item > p {
  transition: color 0.3s, opacity 0.3s;
}

#write .md-task-list-item.task-list-done > p {
  color: #b4b4b4;
  text-decoration: line-through;
}

#write .md-task-list-item.task-list-done > p > .md-emoji {
  opacity: .5;
}

#write .md-task-list-item.task-list-done > p > .md-link > a {
  opacity: .6;
}

/* sidebar and outline */
.pin-outline .outline-active {
  color: var(--active-file-text-color); 
}

.file-list-item {
    border-bottom: 1px solid;
    border-color: var(--purple-light-5);
}

.file-list-item-summary {
    font-weight: 400;
}

.file-list-item.active {
    color: var(--active-file-text-color);
    background-color: var(--purple-light-5);
}

.file-tree-node.active>.file-node-background {
    background-color: var(--purple-light-5);
    font-weight: 700;
} 

.file-tree-node.active>.file-node-content {
    color: var(--active-file-text-color);
    font-weight: 700;
}

.file-node-content {
    color: #5e676d;
}

.sidebar-tabs {
    border-bottom: none;
}
.sidebar-tab.active {
    font-weight: 400;
}

.sidebar-content-content {
    font-size: 0.9rem;
}

img {
    max-width: 100%;
}

body {
    background-color: rgb(237, 237, 237);
}
#content {
    width: 836px;
    padding: 50px;
    background: #fff;
    margin: 0 auto;
}/*# sourceURL=/Users/young/Documents/Codes/Fun/lagou/public/purple.css*/</style><style type="text/css">.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}/*# sourceURL=/Users/young/Documents/Codes/Fun/lagou/public/atom-one-light.min.css*/</style></head>
<body>
<div id="content"><h1>å®æˆ˜é¡¹ç›®äºŒï¼šæŒä¹…åŒ–æ•°æ®ï¼ˆä¸€ï¼‰</h1>
<p>è®¾è®¡å¥½é¡µé¢å¯¼èˆªä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹é€æ­¥å®ç°æ¯ä¸ªé¡µé¢äº†ã€‚æˆ‘å°†ç”¨ä¸¤è®²çš„ç¯‡å¹…å®ç°<strong>ä¸ªäººèµ„æ–™è®¾ç½®é¡µ</strong>ä»¥åŠ<strong>æŒä¹…åŒ–æ•°æ®å­˜å‚¨</strong>èƒ½åŠ›ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå½“ç¨‹åºå¯åŠ¨åï¼Œè‹¥æ£€æµ‹åˆ°å°šæœªé…ç½®ç”¨æˆ·ä¿¡æ¯ï¼Œåˆ™åº”è·³è½¬åˆ°ä¸ªäººèµ„æ–™è®¾ç½®é¡µã€‚åˆ¤æ–­çš„ä¾æ®ä¾¿æ˜¯ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï¼Œè€Œâ€œå­˜åœ¨â€çš„æ ‡å‡†åˆ™æ˜¯è·å–åˆ°çš„å€¼æ—¢ä¸æ˜¯ nullï¼Œä¹Ÿä¸æ˜¯ç©ºå­—ç¬¦ä¸²ï¼ˆâ€œâ€ï¼‰ã€‚è¿™éƒ¨åˆ†çš„æ•°æ®å­˜å‚¨å°†ä½¿ç”¨é¦–é€‰é¡¹ï¼ˆShared Preferencesï¼‰æ¥å®ç°ã€‚è¿™æ˜¯æœ¬è®²çš„å†…å®¹ã€‚</p>
<p>æ¥ç€ï¼Œå¯¹äºæ—¥è®°çš„å­˜å‚¨ï¼Œå…¶æ•°æ®é‡å°†éšç€ä½¿ç”¨é¢‘ç‡çš„å¢åŠ æ—¥ç›Šå¢å¤šï¼Œä¸”ç”¨æˆ·è¿˜å¯èƒ½ä»¥ä¸åŒçš„æ¡ä»¶è¿›è¡ŒæŸ¥è¯¢ã€‚æ˜¾ç„¶ï¼Œä½¿ç”¨æ•°æ®åº“åˆ™æ›´åŠ åˆé€‚ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘è¿˜ä¼šä»‹ç» json æ ¼å¼ä»¥åŠå¦‚ä½•å°† json æ ¼å¼çš„å­—ç¬¦ä¸²ä¸æ•°æ®åº“ç›¸ç»“åˆä½¿ç”¨çš„æ–¹æ³•ã€‚</p>
<p>æœ€åï¼ŒFlutter æœ€å¸¸ç”¨çš„æ•°æ®åº“åŒ…å¹¶ä¸é€‚ç”¨äº PC ç­‰ç”µè„‘è®¾å¤‡ï¼Œæˆ‘è¿˜ä¼šä»‹ç»å…¼å®¹å¤šå¹³å°è®¾å¤‡çš„è§£å†³æ–¹æ¡ˆã€‚è¿™éƒ½æ˜¯ä¸‹ä¸€è®²çš„å†…å®¹ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œå†…å®¹ä¸å°‘ï¼Œå¹²è´§ç‰¹åˆ«å¤šï¼ˆæ‰€ä»¥æˆ‘æŠŠå®ƒä»¬æ‹†æˆäº†ä¸¤è®²ï¼‰ã€‚å¤§å®¶åŠ¡å¿…æ‰“èµ·åäºŒåˆ†çš„ç²¾ç¥ï¼Œè·Ÿå¥½æˆ‘çš„æ€è·¯ï¼Œæœ€åå°†æ”¶è·é¢‡ä¸°ã€‚</p>
<h2>ä¸ªäººèµ„æ–™é¡µé¢ UI</h2>
<p>è®¾ç½®ä¸ªäººèµ„æ–™é¡µï¼ˆapp_configuration.dartï¼‰å…¶å®éå¸¸ç®€å•ï¼Œä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œæˆ‘è¿™é‡Œä»…è¦æ±‚ç”¨æˆ·å¡«å†™åå­—ã€‚ç„¶åå†æ·»åŠ ä¸€ä¸ªâ€œç»§ç»­â€æŒ‰é’®ï¼Œç”¨æ¥ç¡®è®¤ï¼Œå¹¶è·³è½¬åˆ°ä¸‹ä¸€æ­¥ã€‚å…·ä½“æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d8dc767ba5b4b429983ba7375182ba4~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ<strong>å½“ç”¨æˆ·æ²¡æœ‰å¡«å†™åå­—ç›´æ¥ç‚¹å‡»ç»§ç»­æŒ‰é’®æ—¶ï¼Œå°†å¼¹å‡ºæç¤ºæ¡†</strong>ï¼Œæç¤ºç”¨æˆ·åå­—æ˜¯å¿…å¡«é¡¹ã€‚æ­¤å¤–ï¼Œç†Ÿæ‚‰ iOS è¾“å…¥é£æ ¼çš„æœ‹å‹çŸ¥é“ï¼Œ<strong>å½“ç”¨æˆ·ç‚¹å‡»ç©ºç™½å¤„ï¼Œå¼¹å‡ºçš„é”®ç›˜åº”è¯¥è‡ªåŠ¨æ”¶èµ·</strong>ã€‚å¦‚æœ<strong>ç”¨æˆ·å¡«å†™äº†åå­—ï¼Œå†ç‚¹å‡»ç»§ç»­æ—¶ï¼Œç¨‹åºä¼šä¿å­˜ç”¨æˆ·çš„åå­—åˆ°é¦–é€‰é¡¹ï¼Œç„¶åè·³è½¬åˆ°ä¸»é¡µé¢</strong>ã€‚</p>
<p>ä»¥ä¸Šä¾¿æ˜¯æ•´ä¸ªäº¤äº’è¿‡ç¨‹äº†ï¼Œè®©æˆ‘ä»¬é€ä¸ªâ€œå‡»ç ´â€å®ƒä»¬ã€‚</p>
<h2>æ§ä»¶çš„é€‰æ‹©ä¸æ‘†æ”¾</h2>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å…ˆæŠŠæ‰€éœ€è¦çš„æ§ä»¶éƒ½æ‘†æ”¾å¥½ã€‚è¾“å…¥æ¡†ç”¨ CupertinoTextFieldï¼Œç»§ç»­æŒ‰é’®ç”¨CupertinoButtonã€‚é¡¶éƒ¨çš„å¯¼èˆªæ åˆ™æ˜¯ CupertinoNavigationBarã€‚</p>
<p><code>ğŸ’¡ æç¤ºï¼šä¸ºä»€ä¹ˆæˆ‘ä¼šæƒ³åˆ°ä½¿ç”¨è¿™äº›æ§ä»¶å‘¢ï¼Ÿè¿™é‡Œé¢å…¶å®æœ‰ä¸€ä¸ªè§„å¾‹ï¼šæ™®é€šçš„è¾“å…¥æ¡†æ˜¯ TextFieldï¼ŒæŒ‰é’®æ˜¯ Buttonï¼ŒFlutter å®˜æ–¹æä¾›çš„ iOS é£æ ¼æ§ä»¶é€šå¸¸åªéœ€åœ¨å…¶å‰é¢åŠ ä¸Š Cupertino å‰ç¼€å³å¯ã€‚</code></p>
<p>ç›¸åº”ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php"> <span class="hljs-comment">// èµ„æ–™å¡«å†™åŒºåŸŸ</span>
Widget <span class="hljs-title function_ invoke__">_buildInputForm</span>() {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoTextField</span>(
      <span class="hljs-attr">placeholder</span>: <span class="hljs-string">"æ‚¨çš„åå­—"</span>,
      <span class="hljs-attr">keyboardType</span>: TextInputType.name,
      )ï¼›
}
<span class="hljs-comment">// åº•éƒ¨ç¡®è®¤æŒ‰é’®</span>
Widget <span class="hljs-title function_ invoke__">_buildConfirmButton</span>() {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoButton</span>(
      <span class="hljs-attr">child</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç»§ç»­"</span>),
      <span class="hljs-attr">onPressed</span>: () {
        <span class="hljs-comment">// ä¿å­˜èµ„æ–™åˆ°é¦–é€‰é¡¹ï¼Œå¹¶è·³è½¬åˆ°ä¸»é¡µ</span>
      });
}
@override
Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoPageScaffold</span>(
    <span class="hljs-attr">navigationBar</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">CupertinoNavigationBar</span>(
      <span class="hljs-attr">middle</span>: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ä¸ªäººèµ„æ–™é…ç½®"</span>),
    ),
    <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">SafeArea</span>(
      <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Container</span>(
        <span class="hljs-attr">margin</span>: <span class="hljs-keyword">const</span> EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">50</span>),
        <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Column</span>(
          <span class="hljs-attr">children</span>: [
            <span class="hljs-title function_ invoke__">Expanded</span>(
                <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(
              <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">_buildInputForm</span>(),
            )),
            <span class="hljs-title function_ invoke__">_buildConfirmButton</span>()
          ],
        ),
      ),
    ),
  );
}
</code></pre>
<p>è¦å……åˆ†ç†è§£è¿™æ®µä»£ç ï¼Œå…ˆä» build() æ–¹æ³•å¼€å§‹ã€‚</p>
<p>CupertinoPageScaffold å¯¹åº” Scaffoldï¼Œä¸ºæˆ‘ä»¬æä¾›äº†æ„å»º iOS é£æ ¼é¡µé¢çš„<strong>è„šæ‰‹æ¶</strong>ã€‚</p>
<p>navigationBar æ˜¯é¡¶éƒ¨çš„<strong>å¯¼èˆªæ </strong>ï¼Œé€šå¸¸ä½¿ç”¨ CupertinoNavigationBar å¯¹è±¡èµ‹å€¼ã€‚é™¤äº† middle å±æ€§å¤–ï¼Œè¿˜æä¾› leadingã€automaticallyImplyLeadingã€backgroundColor ç­‰å±æ€§ï¼Œè¡¨ç¤ºæ˜¯å¦è‡ªåŠ¨ç”Ÿæˆå·¦ä¾§æ§ä»¶ï¼ˆé»˜è®¤æ˜¯è¿”å›æ“ä½œï¼‰ã€èƒŒæ™¯é¢œè‰²ç­‰ï¼Œè¿™é‡Œå°±ä¸å†ä¸€ä¸€èµ˜è¿°äº†ï¼Œå¤§å®¶å¯ä»¥é€šè¿‡æŒ‰é”®ç›˜ä¸Šçš„ Ctrl+é¼ æ ‡å·¦é”®ç‚¹å‡» CupertinoNavigationBar æŸ¥çœ‹æºç ï¼Œå°±èƒ½ä¸€ç›®äº†ç„¶äº†ã€‚</p>
<p>è‡³äºè„šæ‰‹æ¶ä¸­çš„å­ç»„ä»¶ childï¼Œæˆ‘é¦–å…ˆä½¿ç”¨äº† SafeAreaã€‚å®ƒçš„ä½œç”¨æ˜¯<strong>ä½¿é¡µé¢çš„å†…å®¹éƒ¨åˆ†é¡¶éƒ¨å¤„äºå¯¼èˆªæ çš„ä¸‹é¢</strong>ã€‚å¦‚æœæ²¡æœ‰ SafeAreaï¼Œå¤§å®¶å¯ä»¥è¯•ç€ç›´æ¥æ”¾ä¸€ä¸ª Text ç»„ä»¶è¿›å»ï¼Œé¡µé¢ä¸ä¼šæœ‰ä»»ä½•æ˜¾ç¤ºã€‚ä½†å®é™…ä¸Šæ˜¯é¡¶éƒ¨çš„å¯¼èˆªæ æŒ¡ä½äº† Text ç»„ä»¶ã€‚</p>
<p>åœ¨ SafeArea ç»„ä»¶ä¸­ï¼Œæˆ‘ä½¿ç”¨äº† Column å­ç»„ä»¶ï¼Œå°†è¾“å…¥æ¡†å’ŒæŒ‰é’®åŒ…å«åœ¨å…¶ä¸­ã€‚<strong>Expanded çš„ä½œç”¨æ˜¯ä½¿å…¶å­ç»„ä»¶å……æ»¡å±å¹•çš„å‰©ä½™ç©ºé—´</strong>ã€‚ä¸‹å›¾ç›´è§‚åœ°æ˜¾ç¤ºäº† Column å†…éƒ¨ç»„ä»¶çš„å…³ç³»ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1542a0f7544148d0840828237108b416~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p>
<p>å›¾ä¸­é»‘è‰²è¾¹æ¡†è¡¨ç¤ºçš„åŒºåŸŸå°±æ˜¯æ•´ä¸ª Column ç»„ä»¶äº†ã€‚ç»¿è‰²éƒ¨åˆ†è¡¨ç¤º Expanded ç»„ä»¶ï¼Œè“è‰²éƒ¨åˆ†è¡¨ç¤º _buildConfirmButton() æ–¹æ³•è¿”å›çš„ç»„ä»¶ï¼Œå³ CupertinoButtonã€‚</p>
<p>ä¸ºäº†å¢å¼ºä»£ç çš„å¯è¯»æ€§å’Œæ˜“ç»´æŠ¤æ€§ï¼Œæˆ‘æŠŠä¸Šè¿°ä¸¤éƒ¨åˆ†çš„ç»„ä»¶åˆ†åˆ«ä½¿ç”¨ _buildInputForm() å’Œ _buildConfirmButton() æ–¹æ³•è¿›è¡Œäº†å°è£…ã€‚</p>
<p>å¥½äº†ï¼Œé¡µé¢ UI å¸ƒå±€åˆ°æ­¤å·²ç»å¯ä»¥åŸºæœ¬å®£å‘Šç»“æŸäº†ã€‚æ¥ç€ï¼Œæˆ‘ä»¬è¦å®ç°çš„åŠŸèƒ½å°±æ˜¯å¦‚ä½•è·å–ç”¨æˆ·è¾“å…¥çš„æ–‡å­—äº†ã€‚</p>
<h2>æ–‡æœ¬è¾“å…¥æ¡†çš„å†…å®¹å–å€¼å’Œèµ‹å€¼</h2>
<p>è™½ç„¶æˆ‘ä»¬åªæƒ³è·å–è¾“å…¥æ¡†çš„æ–‡å­—ï¼Œä½†ä¸å¦¨æŠŠçœ¼å…‰å†æ”¾å¾—é•¿è¿œäº›ï¼šå³ç„¶èƒ½å–å€¼ï¼Œå¯å¦èµ‹å€¼å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚</p>
<p>æœ‰äººå¯èƒ½ä¼šé—®ï¼šä»€ä¹ˆæ—¶å€™éœ€è¦ç»™è¾“å…¥æ¡†èµ‹å€¼å‘¢ï¼Ÿæƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ä½¿ç”¨æ‰‹æœºé€šè®¯å½•çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æ–°å»ºè”ç³»äººï¼Œè¿˜å¯ä»¥ç¼–è¾‘è”ç³»äººã€‚åœ¨ç¼–è¾‘è”ç³»äººçš„æ—¶å€™ï¼Œå·²ç»å­˜å‚¨çš„ä¿¡æ¯ä¼šé»˜è®¤æ˜¾ç¤ºåˆ°ç›¸åº”çš„è¾“å…¥æ¡†ä¸­ï¼Œä¾¿äºä¿®æ”¹ã€‚è¿™ä¾¿æ˜¯ç»™è¾“å…¥æ¡†èµ‹å€¼çš„ä»·å€¼ä½“ç°ä¹‹ä¸€ã€‚</p>
<p>æ— è®ºæ˜¯ TextField è¿˜æ˜¯ CupertinoTextFieldï¼Œéƒ½åŒ…å«å¾ˆå¤šå±æ€§ã€‚åœ¨ä¸çŸ¥é“å¦‚ä½•è·å–è¾“å…¥å†…å®¹çš„æ—¶å€™ï¼Œä¸å¦¨å…ˆçœ‹çœ‹æºç ä¸­çš„æ³¨é‡Šã€‚å¾ˆå¿«ä¾¿å‘ç°äº† controller ä¼¼ä¹å¾ˆæœ‰ç”¨ï¼Œå…³äºå®ƒçš„æ³¨é‡Šå’Œä»£ç æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<p><em>/// The [controller] can also control the selection and composing region (and to</em> <em>/// observe changes to the text, selection, and composing region).</em></p>
<p>...</p>
<p><em>/// If null, this widget will create its own [TextEditingController].</em> <em>final</em> TextEditingController? controller;</p>
</blockquote>
<p>æ„æ€å°±æ˜¯ <strong>controller å¯ä»¥ç›‘è§†æ–‡æœ¬ã€é€‰æ‹©ä»¥åŠç¼–è¾‘åŒºåŸŸçš„æ”¹å˜ä»¥åŠæ§åˆ¶å®ƒä»¬ã€‚è¯¥å±æ€§éœ€è¦ TextEditingController å¯¹è±¡è¿›è¡Œèµ‹å€¼</strong>ã€‚</p>
<p>äºæ˜¯ï¼Œå›åˆ° app_configuration.dartï¼Œåˆ›å»ºä¸€ä¸ª TextEditingController å¯¹è±¡ï¼Œç„¶åèµ‹å€¼ç»™ controller å±æ€§ã€‚æˆ‘ä»¬å°±è¿™æ ·è¯•è¯•çœ‹ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php"><span class="hljs-keyword">final</span> TextEditingController _nameInputController = <span class="hljs-title function_ invoke__">TextEditingController</span>();
<span class="hljs-comment">// èµ„æ–™å¡«å†™åŒºåŸŸ</span>
Widget <span class="hljs-title function_ invoke__">_buildInputForm</span>() {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoTextField</span>(
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">"æ‚¨çš„åå­—"</span>,
    <span class="hljs-attr">keyboardType</span>: TextInputType.name,
    <span class="hljs-attr">controller</span>: _nameInputController,
  );
}
</code></pre>
<p>æ‰§è¡Œçƒ­åŠ è½½ï¼Œå‘ç°ç•Œé¢å¹¶æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ã€‚åˆ«æ€¥ï¼Œç»§ç»­æ·±å…¥ç ”ç©¶ä¸€ä¸‹ TextEditingControllerï¼Œä¼šå‘ç°å¯ä»¥è·å–å®ƒçš„ text å˜é‡ï¼Œå…³äº text çš„è§£é‡Šä¹Ÿå¯ä»¥åœ¨ TextEditingController çš„æºç ä¸­æ‰¾åˆ°ï¼š</p>
<blockquote>
<p><em>/// This constructor treats a null [text] argument as if it were the empty</em> <em>/// string.</em></p>
<p>...</p>
<p><em>/// The current string the user is editing.</em> String <em>get</em> text => value.text; <em>/// Setting this will notify all the listeners of this [TextEditingController]</em> <em>/// that they need to update (it calls [notifyListeners]). For this reason,</em> <em>/// this value should only be set between frames, e.g. in response to user</em> <em>/// actions, not during the build, layout, or paint phases.</em> <em>///</em> <em>/// This property can be set from a listener added to this</em> <em>/// [TextEditingController]; however, one should not also set [selection]</em> <em>/// in a separate statement. To change both the [text] and the [selection]</em> <em>/// change the controller's [value].</em> <em>set</em> text(String newText) { value = value.copyWith( text: newText, selection: <em>const</em> TextSelection.collapsed(offset: -1), composing: TextRange.<em>empty</em>, ); }</p>
</blockquote>
<p>å¤§æ¦‚æ„æ€æ˜¯ <strong>text è¡¨ç¤ºç”¨æˆ·æ­£åœ¨ç¼–è¾‘çš„æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œå¼€å‘è€…æ—¢å¯ä»¥é€šè¿‡å®ƒè·å–ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™å®ƒï¼Œä½¿è¾“å…¥æ¡†ä¸­çš„å†…å®¹å‘ç”Ÿå˜åŒ–</strong>ã€‚</p>
<p>å¥½äº†ï¼Œåˆ°è¿™é‡Œï¼Œç›¸ä¿¡å¤§å®¶å·²ç»æœ‰è±ç„¶å¼€æœ—ä¹‹æ„Ÿã€‚</p>
<p>å›é¡¾æ•´ä¸ªæ€è€ƒè¿‡ç¨‹ï¼Œå…¶å®æˆ‘ä»¬å”¯ä¸€å€ŸåŠ©çš„å‚è€ƒèµ„æ–™ä¾¿æ˜¯ä»£ç æœ¬èº«ã€‚å®é™…ä¸Šï¼Œä¸åªæ˜¯ Flutterã€‚å¯é ã€æˆç†Ÿçš„ä»£ç ä¸€èˆ¬éƒ½ä¼šæœ‰å¾ˆå®Œå–„çš„æ³¨é‡Šï¼Œéå¸¸è¯¦å°½åœ°é˜è¿°äº†å®ƒä»¬çš„ä½¿ç”¨æ–¹æ³•ã€‚ä½œä¸ºè°ƒç”¨è€…ï¼Œè¿™äº›æ³¨é‡Šå°±æ˜¯ç¬¬ä¸€æ‰‹ææ–™ï¼Œæ¯”ä¼ ç»Ÿçš„å›¾ä¹¦ã€ç½‘ä¸Šæœæ¥çš„æ–¹æ³•æ›´é è°±ã€‚</p>
<p>æœ‰äº†æ€è·¯ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®ç°äº†ã€‚</p>
<p>è·å–ç”¨æˆ·è¾“å…¥å†…å®¹çš„é€»è¾‘åœ¨ç”¨æˆ·ç‚¹å‡»ç»§ç»­æŒ‰é’®åå‘ç”Ÿï¼Œæ‰€ä»¥ï¼Œå›åˆ°æŒ‰é’®çš„å®ç°ï¼Œå¹¶å®Œå–„åç»­çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-php"> <span class="hljs-comment">// åº•éƒ¨ç¡®è®¤æŒ‰é’®</span>
Widget <span class="hljs-title function_ invoke__">_buildConfirmButton</span>() {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoButton</span>(
      <span class="hljs-attr">child</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç»§ç»­"</span>),
      <span class="hljs-attr">onPressed</span>: () {
        <span class="hljs-comment">// ä¿å­˜èµ„æ–™åˆ°é¦–é€‰é¡¹ï¼Œå¹¶è·³è½¬åˆ°ä¸»é¡µ</span>
<span class="hljs-title function_ invoke__">_saveToSharedPref</span>();
      });
}
<span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">_saveToSharedPref</span>() async {
  <span class="hljs-keyword">var</span> name = _nameInputController.text;
  <span class="hljs-comment">// ç©ºå­—ç¬¦ä¸²åˆ¤æ–­</span>
 <span class="hljs-keyword">if</span> (name == <span class="hljs-string">""</span>) {
    <span class="hljs-title function_ invoke__">showCupertinoDialog</span>(
      <span class="hljs-attr">context</span>: context,
      <span class="hljs-attr">builder</span>: (context) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoAlertDialog</span>(
          <span class="hljs-attr">title</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"è¯·æ£€æŸ¥"</span>),
          <span class="hljs-attr">content</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"è¯·å¡«å†™æ‚¨çš„åå­—"</span>),
          <span class="hljs-attr">actions</span>: [
            <span class="hljs-title function_ invoke__">CupertinoDialogAction</span>(
              <span class="hljs-attr">child</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç¡®å®š"</span>),
              <span class="hljs-attr">onPressed</span>: () {
                Navigator.<span class="hljs-title function_ invoke__">of</span>(context).<span class="hljs-title function_ invoke__">pop</span>();
              },
            ),
          ],
        );
      },
    );
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ä¿å­˜èµ„æ–™åˆ°é¦–é€‰é¡¹</span>
    <span class="hljs-comment">// è·³è½¬åˆ°ä¸»é¡µ</span>
router.<span class="hljs-title function_ invoke__">navigateTo</span>(context, Routes.indexPage, <span class="hljs-attr">clearStack</span>: <span class="hljs-literal">true</span>);
  }
}
</code></pre>
<p>_saveToSharedPref() æ–¹æ³•å°è£…äº†ä¿å­˜ç”¨æˆ·åå­—åˆ°é¦–é€‰é¡¹ã€é¡µé¢è·³è½¬ä»¥åŠç”¨æˆ·è¾“å…¥ä¸ºç©ºæ—¶çš„åˆ¤æ–­ã€‚æ­¤å¤„å½“ç”¨æˆ·è¾“å…¥ä¸ºç©ºå­—ç¬¦ä¸²ï¼ˆâ€œâ€ï¼‰æ—¶ï¼Œå¼¹å‡ºå¯¹è¯æ¡†æç¤ºç”¨æˆ·æ£€æŸ¥å¿…å¡«é¡¹ã€‚ç”¨åˆ°çš„æ–¹æ³•æ˜¯å†…ç½®çš„ showCupertinoDialog()ï¼Œè¯¥æ–¹æ³•ç”¨èµ·æ¥ååˆ†å®¹æ˜“ï¼Œå¤§å®¶è‡ªè¡Œé˜…è¯»ä»£ç è¿›è¡Œäº†è§£ï¼Œæˆ‘å°±ä¸å†å±•å¼€è®²äº†ã€‚</p>
<p>å®Œæˆç¼–ç åï¼Œæ‰§è¡Œçƒ­åŠ è½½ã€‚å°è¯•åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä¸€äº›æ–‡å­—æˆ–ä¸è¾“å…¥ï¼Œç„¶åç‚¹å‡»ä¸‹é¢çš„ç»§ç»­æŒ‰é’®ã€‚å¦‚æ— æ„å¤–ï¼Œè§‚å¯Ÿé¡µé¢çš„å˜åŒ–ï¼Œåº”è¯¥æ˜¯ç¬¦åˆé¢„æœŸçš„ã€‚</p>
<p>åˆ«æ€¥ï¼è¿˜æœ‰ä¸€ä¸ªç»†èŠ‚éœ€è¦å®ç°ï¼š<strong>ç‚¹å‡»ç©ºç™½å¤„æ”¶èµ·è½¯é”®ç›˜</strong>ã€‚</p>
<ul>
<li>è¯´åˆ°â€œç‚¹å‡»â€ï¼Œå¤§å®¶ä¼šæƒ³åˆ°ä»€ä¹ˆï¼Ÿ<strong>æ‰‹åŠ¿</strong>ï¼æ‰‹åŠ¿åŒ…å«äº†ç‚¹å‡»ã€åŒå‡»ã€æ‹–æ‹½ç­‰ç­‰ï¼›</li>
<li>è¯´åˆ°â€œç©ºç™½å¤„â€ï¼Œå°±æ˜¯èƒ½<strong>äº§ç”Ÿäº’åŠ¨å¤–çš„æ‰€æœ‰åŒºåŸŸ</strong>ï¼›</li>
<li>è¯´åˆ°â€œæ”¶èµ·è½¯é”®ç›˜â€ï¼Œä¸å¦¨å…ˆå€’è¿‡æ¥æƒ³ï¼šè½¯é”®ç›˜å‡ºç°çš„æ—¶æœºæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯è¾“å…¥æ¡†è·å¾—äº†<strong>ç„¦ç‚¹</strong>ï¼é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬æŠŠç„¦ç‚¹æ”¾åœ¨éè¾“å…¥æ¡†åŒºåŸŸï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥æ”¶èµ·é”®ç›˜äº†å‘¢ï¼Ÿ</li>
</ul>
<p>å¤šè¯´æ— ç›Šï¼Œä¸å¦¨è¯•è¯•ã€‚æˆ‘åœ¨æ•´ä¸ª CupertinoPageScaffold ç»„ä»¶å¤–ï¼Œå†å¥—ä¸€ä¸ªæ‰‹åŠ¿å¤„ç†ç»„ä»¶ GestureDetectorï¼Œå¹¶ä¸º onTap å±æ€§èµ‹å€¼ï¼Œè¯¥å±æ€§å°±æ˜¯ç‚¹å‡»æ—¶çš„å¤„ç†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss"><span class="hljs-keyword">@override</span>
Widget build(BuildContext context) {
  return <span class="hljs-built_in">GestureDetector</span>(
    onTap: () {
      FocusScope<span class="hljs-selector-class">.of</span>(context)<span class="hljs-selector-class">.requestFocus</span>(FocusNode());
    },
    child: CupertinoPageScaffold(
    ...
    ),
  );
}
</code></pre>
<p>å¥½äº†ï¼Œå†è¯•è¯•çœ‹ã€‚å½“æˆ‘ä»¬ç‚¹å‡»è¾“å…¥æ¡†ï¼Œå†ç‚¹å‡»ç©ºç™½å¤„æ—¶ï¼Œæ˜¯ä¸æ˜¯è½¯é”®ç›˜ä¹–ä¹–åœ°æ”¶èµ·æ¥äº†ï¼Ÿ</p>
<p>æå®šäº†æ‰€æœ‰é¡µé¢äº¤äº’ï¼Œæˆ‘ä»¬ç»ˆäºæ¥åˆ°äº†é¦–é€‰é¡¹ IO çš„å®ç°éƒ¨åˆ†ã€‚</p>
<h2>é¦–é€‰é¡¹ IO</h2>
<p>è¯´åˆ°é¦–é€‰é¡¹ï¼Œå…¶å®æ˜¯å¤§éƒ¨åˆ†ç¨‹åºéƒ½å¿…ä¸å¯å°‘çš„èƒ½åŠ›ã€‚å…¸å‹çš„ä½¿ç”¨åœºæ™¯é™¤äº†åƒæœ¬ä¾‹è¿™æ ·ä¿å­˜ç”¨æˆ·åå­—å¤–ï¼Œè¿˜æœ‰ä¿å­˜ç¨‹åºè®¾ç½®çš„å€¼ã€‚æ¯”å¦‚æ˜¯å¦ä¿å­˜å¯†ç ã€æ˜¯å¦è‡ªåŠ¨ç™»å½•ã€æ˜¯å¦å…è®¸æµé‡ä¸‹è½½ç­‰ç­‰ï¼Œå¯ä»¥è¯´æ˜¯åº”ç”¨å¾—éå¸¸å¹¿æ³›äº†ã€‚</p>
<p>æ— è®ºä½¿ç”¨åœºæ™¯å¦‚ä½•ï¼Œå…¶<strong>æœ¬è´¨å°±æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ª key - value è¿™æ ·çš„é”®å€¼å¯¹æ„æˆ</strong>çš„ã€‚æ¯”å¦‚æœ¬ä¾‹ä¸­çš„ç”¨æˆ·åï¼Œè‹¥ç”¨æˆ·è¾“å…¥çš„æ˜¯ Adaï¼Œç¨‹åºä¸­å®šä¹‰çš„é”®æ˜¯ usernameï¼Œä¿å­˜åçš„é”®å€¼å…³ç³»å°±æ˜¯ username - Adaã€‚</p>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œå¯ä»¥<strong>é€šè¿‡é”®å­˜å€¼å’Œå–å€¼</strong>ï¼Œè¿™ç§å­˜å’Œå–çš„è¿‡ç¨‹ï¼Œå°±æ˜¯é¦–é€‰é¡¹ IO çš„è¿‡ç¨‹äº†ã€‚</p>
<p>ç„¶è€Œï¼ŒFlutter æ¡†æ¶è‡ªèº«å…¶å®å¹¶æ²¡æœ‰æä¾›é¦–é€‰é¡¹ IO çš„èƒ½åŠ›ï¼Œéœ€è¦é›†æˆåŒ…æ¥å®ç°ã€‚åŒ…çš„åç§°æ˜¯ <strong>shared_preferences</strong>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Package ç½‘ç«™ä¸Šæœç´¢æ‰¾åˆ°å®ƒï¼š<a href="https://pub.flutter-io.cn/packages/shared_preferences%E3%80%82" target="_blank" rel="nofollow noopener noreferrer">https://pub.flutter-io.cn/packages/shared_preferencesã€‚</a></p>
<p>é€šè¿‡é˜…è¯»ç½‘ç«™ä¸Šçš„æ–‡æ¡£ï¼Œå¯ä»¥å‘ç°é¦–é€‰é¡¹ä¸ä»…å¯ä»¥ç”¨äºæ‰‹æœºå®¢æˆ·ç«¯ï¼Œè¿˜å¯ä»¥ç”¨äºç”µè„‘ç«¯å’Œ Web ç«¯ï¼Œä¸ºæ„å»ºè·¨å¹³å°åº”ç”¨ç¨‹åºæä¾›äº†å……è¶³çš„æ”¯æŒã€‚</p>
<p>ä¸‹é¢ï¼Œæ¥åˆ° pubspec.yamlï¼Œé›†æˆå®ƒå§ï¼</p>
<pre><code class="hljs language-yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">flutter:</span>
    <span class="hljs-attr">sdk:</span> <span class="hljs-string">flutter</span>

  <span class="hljs-string">...</span>
  <span class="hljs-comment"># é¦–é€‰é¡¹å­˜å‚¨</span>
<span class="hljs-attr">shared_preferences:</span> <span class="hljs-string">^2.0.15</span>
</code></pre>
<p><code>ğŸ’¡ æç¤ºï¼šå¤§å®¶åœ¨é›†æˆçš„æ—¶å€™ï¼Œä¸è¦ç…§æŠ„ç‰ˆæœ¬å·ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¯èƒ½ä¼šæœ‰æ›´æ–°çš„ç‰ˆæœ¬å‘å¸ƒï¼Œè¯·å¤§å®¶å‚è€ƒ Package ç½‘ç«™ä¸­çš„ç‰ˆæœ¬è¿›è¡Œé›†æˆã€‚</code></p>
<p>å…³äº shared_preferences åº“çš„ç”¨æ³•ï¼Œå…¶å®ç½‘ç«™ä¸Šå·²ç»æœ‰éå¸¸è¯¦ç»†çš„ç¤ºä¾‹äº†ã€‚æˆ‘æŠŠæˆ‘çš„å®ç°æ”¾åœ¨è¿™é‡Œï¼Œä¸»è¦æ˜¯ä½¿ç”¨äº†å•ä¾‹æ¨¡å¼ï¼Œä¾›å¤§å®¶å‚è€ƒä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:shared_preferences/shared_preferences.dart'</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SharedPrefUtil</span> </span>{
  SharedPrefUtil._privateConstructor();
  <span class="hljs-keyword">static</span>  <span class="hljs-keyword">final</span> SharedPrefUtil _instance = SharedPrefUtil._privateConstructor();
  <span class="hljs-keyword">static</span> SharedPrefUtil <span class="hljs-keyword">get</span> instance {
    <span class="hljs-keyword">return</span> _instance;
  }
  <span class="hljs-comment">/// <span class="markdown">ä¿å­˜ç”¨æˆ·å</span></span>
saveUsername(<span class="hljs-built_in">String</span> username) <span class="hljs-keyword">async</span> {
    SharedPreferences prefs = <span class="hljs-keyword">await</span> SharedPreferences.getInstance();
    <span class="hljs-keyword">await</span> prefs.setString(<span class="hljs-string">"username"</span>, username);
  }
  <span class="hljs-comment">/// <span class="markdown">è¯»å–ä¿å­˜çš„ç”¨æˆ·å</span></span>
readUsername() <span class="hljs-keyword">async</span> {
    SharedPreferences prefs = <span class="hljs-keyword">await</span> SharedPreferences.getInstance();
    <span class="hljs-built_in">String?</span> name = prefs.getString(<span class="hljs-string">"username"</span>);
    <span class="hljs-keyword">return</span> name;
  }
}
</code></pre>
<p>è¿™æ®µä»£ç è‡ªæˆä¸€ä¸ªæ–‡ä»¶ï¼Œä½äºå·¥ç¨‹ä¸­ lib\util\shared_pref_util.dartã€‚util æ„ä¸ºå·¥å…·ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹çš„æºç æ–‡ä»¶éƒ½å°†ä½œä¸ºå·¥å…·ç±»ä½¿ç”¨ã€‚</p>
<p>å®Œæˆç¼–ç åï¼Œå›åˆ° app_configuration.dartï¼Œç»§ç»­å®Œå–„ _saveToSharedPref() æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-php"><span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">_saveToSharedPref</span>() async {
  <span class="hljs-keyword">var</span> name = _nameInputController.text;
  <span class="hljs-comment">// ç©ºå­—ç¬¦ä¸²åˆ¤æ–­</span>
 <span class="hljs-keyword">if</span> (name == <span class="hljs-string">""</span>) {
    <span class="hljs-title function_ invoke__">showCupertinoDialog</span>(
      <span class="hljs-attr">context</span>: context,
      <span class="hljs-attr">builder</span>: (context) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoAlertDialog</span>(
          <span class="hljs-attr">title</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"è¯·æ£€æŸ¥"</span>),
          <span class="hljs-attr">content</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"è¯·å¡«å†™æ‚¨çš„åå­—"</span>),
          <span class="hljs-attr">actions</span>: [
            <span class="hljs-title function_ invoke__">CupertinoDialogAction</span>(
              <span class="hljs-attr">child</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç¡®å®š"</span>),
              <span class="hljs-attr">onPressed</span>: () {
                Navigator.<span class="hljs-title function_ invoke__">of</span>(context).<span class="hljs-title function_ invoke__">pop</span>();
              },
            ),
          ],
        );
      },
    );
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ä¿å­˜èµ„æ–™åˆ°é¦–é€‰é¡¹</span>
SharedPrefUtil.instance.<span class="hljs-title function_ invoke__">saveUsername</span>(name);
    <span class="hljs-comment">// è·³è½¬åˆ°ä¸»é¡µ</span>
router.<span class="hljs-title function_ invoke__">navigateTo</span>(context, Routes.indexPage, <span class="hljs-attr">clearStack</span>: <span class="hljs-literal">true</span>);
  }
}
</code></pre>
<p>ç»“æŸäº†å—ï¼Ÿè¿˜æ²¡æœ‰ã€‚</p>
<p>å›æƒ³ä¸€ä¸‹ï¼Œèµ„æ–™é…ç½®é¡µé¢æ˜¯å¦‚ä½•è·³å‡ºæ¥çš„ï¼Ÿæ˜¯åœ¨ä¸»é¡µé¢åšäº†åˆ¤æ–­åæ‰è·³è½¬çš„ï¼è€Œåˆ¤æ–­çš„ä¾æ®è¿˜æ˜¯é¦–é€‰é¡¹ä¸­çš„ç”¨æˆ·åå­—æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å›åˆ° main.dartï¼Œåœ¨ _jumpToAppConfig() æ–¹æ³•ä¸­è·å–ä¿å­˜æ•°æ®ï¼Œå†æ ¹æ®è·å–åˆ°çš„ç»“æœè¿›è¡Œè·³è½¬æˆ–æ˜¾ç¤ºæ¬¢è¿ä½¿ç”¨å¯¹è¯æ¡†ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c6ea64c838944a5ade5ab5682506794~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php"><span class="hljs-title function_ invoke__">_jumpToAppConfig</span>() async {
  username = await SharedPrefUtil.instance.<span class="hljs-title function_ invoke__">readUsername</span>();
  <span class="hljs-keyword">if</span> (username == <span class="hljs-literal">null</span> || username == <span class="hljs-string">""</span>) {
    router.<span class="hljs-title function_ invoke__">navigateTo</span>(context, Routes.appConfigurationPage, <span class="hljs-attr">clearStack</span>: <span class="hljs-literal">true</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-title function_ invoke__">showCupertinoDialog</span>(
      <span class="hljs-attr">context</span>: context,
      <span class="hljs-attr">builder</span>: (context) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoAlertDialog</span>(
          <span class="hljs-attr">title</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"æ¬¢è¿ä½¿ç”¨"</span>),
          <span class="hljs-attr">content</span>: <span class="hljs-title function_ invoke__">Text</span>(username!),
          <span class="hljs-attr">actions</span>: [
            <span class="hljs-title function_ invoke__">CupertinoDialogAction</span>(
              <span class="hljs-attr">child</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç¡®å®š"</span>),
              <span class="hljs-attr">onPressed</span>: () {
                Navigator.<span class="hljs-title function_ invoke__">of</span>(context).<span class="hljs-title function_ invoke__">pop</span>();
              },
            ),
          ],
        );
      },
    );
  }
}
</code></pre>
<p>å¥½äº†ï¼Œæ•´ä¸ªç¼–ç åˆ°æ­¤å°±ç»“æŸäº†ã€‚</p>
<p>å¦‚æœä½ ç¼–å†™çš„ä»£ç æ— æ³•å®ç°æœ¬è®²æ‰€è¿°çš„åŠŸèƒ½ï¼Œæœ«å°¾çš„é™„å½•å¯èƒ½ä¼šå¸®åˆ°ä½ ã€‚</p>
<h2><strong>æ€»ç»“</strong></h2>
<p>ğŸ‰ æ­å–œï¼Œæ‚¨å®Œæˆäº†æœ¬æ¬¡è¯¾ç¨‹çš„å­¦ä¹ ï¼</p>
<p>ğŸ“Œ ä»¥ä¸‹æ˜¯æœ¬æ¬¡è¯¾ç¨‹çš„é‡ç‚¹å†…å®¹æ€»ç»“ï¼š</p>
<p>æœ¬è®²ä»‹ç»äº†èµ„æ–™é…ç½®é¡µé¢çš„ UI äº¤äº’å’ŒåŠŸèƒ½å®ç°ã€‚</p>
<p>åœ¨ UI äº¤äº’éƒ¨åˆ†ï¼Œé‡ç‚¹åœ¨<strong>å¦‚ä½•ä¸è¾“å…¥æ¡†äº¤äº’ï¼Œè¿›è¡Œå–å€¼å’Œèµ‹å€¼</strong>ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸¤ä¸ªç»éªŒç±»çš„å°æŠ€å·§ï¼š<strong>SafeArea</strong> çš„ä½¿ç”¨ï¼Œä»¥åŠä½¿ç”¨ <strong>Expanded</strong> ç»„ä»¶å¯¹å±å¹•æœªä½¿ç”¨çš„åŒºåŸŸè¿›è¡Œå¡«å……ã€‚</p>
<p>åŠŸèƒ½æ–¹é¢ä¸»è¦ä»‹ç»äº†å¦‚ä½•é›†æˆå’Œä½¿ç”¨ <strong>shared_preferences</strong> åŒ…è¿›è¡Œé¦–é€‰é¡¹å­˜å–ã€‚</p>
<p>å¤§å®¶åœ¨å­¦ä¹ çš„æ—¶å€™ï¼Œåˆ‡å‹¿å®Œå…¨ç…§æ¬ã€‚ä¸€å®šè¦é¢†ä¼šå…¶ä¸­çš„æ–¹æ³•ï¼Œå­¦ä¹ è§£å†³é—®é¢˜çš„æ€è·¯ã€‚</p>
<p>â¡ï¸ åœ¨ä¸‹æ¬¡è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šç»§ç»­ã€Šæ—¥è®°ã€‹ç¨‹åºçš„å¼€å‘ï¼Œå…·ä½“å†…å®¹æ˜¯ï¼š</p>
<ul>
<li>æœ¬åœ°æŒä¹…åŒ–çš„å®ç°ï¼Œæœ¬åœ°æ•°æ®åº“ï¼ˆSQLiteï¼‰çš„è®¾è®¡ã€å®ç°ä¸å°è£…ã€‚</li>
</ul>
<h2>é™„å½•1ï¼šmain.dart å®Œæ•´ä»£ç ï¼š</h2>
<pre><code class="hljs language-scala"><span class="hljs-keyword">import</span> '<span class="hljs-keyword">package</span>:diary/router/routes.dart';
<span class="hljs-keyword">import</span> '<span class="hljs-keyword">package</span>:diary/ui/index/index.dart';
<span class="hljs-keyword">import</span> '<span class="hljs-keyword">package</span>:diary/util/shared_pref_util.dart';
<span class="hljs-keyword">import</span> '<span class="hljs-keyword">package</span>:fluro/fluro.dart';
<span class="hljs-keyword">import</span> '<span class="hljs-keyword">package</span>:flutter/cupertino.dart';
<span class="hljs-keyword">final</span> router = <span class="hljs-type">FluroRouter</span>();
void main() {
  <span class="hljs-comment">// é…ç½®è·¯ç”±</span>
<span class="hljs-type">Routes</span>.configureRoutes(router);
  runApp(const <span class="hljs-type">MyApp</span>());
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  const <span class="hljs-type">MyApp</span>({<span class="hljs-type">Key</span>? key}) : <span class="hljs-keyword">super</span>(key: key);
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span> <span class="hljs-type">CupertinoApp</span>(onGenerateRoute: router.generator, home: const <span class="hljs-type">Diary</span>());
  }
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Diary</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  const <span class="hljs-type">Diary</span>({<span class="hljs-type">Key</span>? key}) : <span class="hljs-keyword">super</span>(key: key);
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">State</span>&#x3C;<span class="hljs-type">Diary</span>> createState() => _DiaryState();
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_DiaryState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State&#x3C;Diary></span> </span>{
  <span class="hljs-type">String</span>? username;
  <span class="hljs-meta">@override</span>
  void initState() {
    <span class="hljs-keyword">super</span>.initState();
    <span class="hljs-type">WidgetsBinding</span>.instance.addPostFrameCallback((_) {
      <span class="hljs-comment">// æœªè¿›è¡Œèµ„æ–™é…ç½®ï¼Œè·³è½¬åˆ°ç›¸åº”é¡µé¢è¿›è¡Œ</span>
_jumpToAppConfig();
    });
  }
  _jumpToAppConfig() async {
    username = await <span class="hljs-type">SharedPrefUtil</span>.instance.readUsername();
    <span class="hljs-keyword">if</span> (username == <span class="hljs-literal">null</span> || username == <span class="hljs-string">""</span>) {
      router.navigateTo(context, <span class="hljs-type">Routes</span>.appConfigurationPage, clearStack: <span class="hljs-literal">true</span>);
    } <span class="hljs-keyword">else</span> {
      showCupertinoDialog(
        context: context,
        builder: (context) {
          <span class="hljs-keyword">return</span> <span class="hljs-type">CupertinoAlertDialog</span>(
            title: const <span class="hljs-type">Text</span>(<span class="hljs-string">"æ¬¢è¿"</span>),
            content: <span class="hljs-type">Text</span>(username!),
            actions: [
              <span class="hljs-type">CupertinoDialogAction</span>(
                child: const <span class="hljs-type">Text</span>(<span class="hljs-string">"ç¡®å®š"</span>),
                onPressed: () {
                  <span class="hljs-type">Navigator</span>.of(context).pop();
                },
              ),
            ],
          );
        },
      );
    }
  }
  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">return</span>  const <span class="hljs-type">IndexPage</span>();
  }
}
</code></pre>
<h2>é™„å½•2ï¼šapp_configuration.dart å®Œæ•´ä»£ç ï¼š</h2>
<pre><code class="hljs language-php">import <span class="hljs-string">'package:diary/util/shared_pref_util.dart'</span>;
import <span class="hljs-string">'package:flutter/cupertino.dart'</span>;
import <span class="hljs-string">'../../main.dart'</span>;
import <span class="hljs-string">'../../router/routes.dart'</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppConfigurationPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AppConfigurationPage</span>({Key? key}) : <span class="hljs-title function_ invoke__">super</span>(<span class="hljs-attr">key</span>: key);
  @override
  State&#x3C;AppConfigurationPage> <span class="hljs-title function_ invoke__">createState</span>() => <span class="hljs-title function_ invoke__">_AppConfigurationPageState</span>();
}
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_AppConfigurationPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&#x3C;<span class="hljs-title">AppConfigurationPage</span>> </span>{
  <span class="hljs-keyword">final</span> TextEditingController _nameInputController = <span class="hljs-title function_ invoke__">TextEditingController</span>();
  <span class="hljs-comment">// èµ„æ–™å¡«å†™åŒºåŸŸ</span>
Widget <span class="hljs-title function_ invoke__">_buildInputForm</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoTextField</span>(
      <span class="hljs-attr">placeholder</span>: <span class="hljs-string">"æ‚¨çš„åå­—"</span>,
      <span class="hljs-attr">keyboardType</span>: TextInputType.name,
      <span class="hljs-attr">controller</span>: _nameInputController,
    );
  }
  <span class="hljs-comment">// åº•éƒ¨ç¡®è®¤æŒ‰é’®</span>
Widget <span class="hljs-title function_ invoke__">_buildConfirmButton</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoButton</span>(
        <span class="hljs-attr">child</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç»§ç»­"</span>),
        <span class="hljs-attr">onPressed</span>: () {
          <span class="hljs-comment">// ä¿å­˜èµ„æ–™åˆ°é¦–é€‰é¡¹ï¼Œå¹¶è·³è½¬åˆ°ä¸»é¡µ</span>
<span class="hljs-title function_ invoke__">_saveToSharedPref</span>();
        });
  }
  <span class="hljs-keyword">void</span> <span class="hljs-title function_ invoke__">_saveToSharedPref</span>() async {
    <span class="hljs-keyword">var</span> name = _nameInputController.text;
    <span class="hljs-comment">// ç©ºå­—ç¬¦ä¸²åˆ¤æ–­</span>
 <span class="hljs-keyword">if</span> (name == <span class="hljs-string">""</span>) {
      <span class="hljs-title function_ invoke__">showCupertinoDialog</span>(
        <span class="hljs-attr">context</span>: context,
        <span class="hljs-attr">builder</span>: (context) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">CupertinoAlertDialog</span>(
            <span class="hljs-attr">title</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"è¯·æ£€æŸ¥"</span>),
            <span class="hljs-attr">content</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"è¯·å¡«å†™æ‚¨çš„åå­—"</span>),
            <span class="hljs-attr">actions</span>: [
              <span class="hljs-title function_ invoke__">CupertinoDialogAction</span>(
                <span class="hljs-attr">child</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç¡®å®š"</span>),
                <span class="hljs-attr">onPressed</span>: () {
                  Navigator.<span class="hljs-title function_ invoke__">of</span>(context).<span class="hljs-title function_ invoke__">pop</span>();
                },
              ),
            ],
          );
        },
      );
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// ä¿å­˜èµ„æ–™åˆ°é¦–é€‰é¡¹</span>
SharedPrefUtil.instance.<span class="hljs-title function_ invoke__">saveUsername</span>(name);
      <span class="hljs-comment">// è·³è½¬åˆ°ä¸»é¡µ</span>
router.<span class="hljs-title function_ invoke__">navigateTo</span>(context, Routes.indexPage, <span class="hljs-attr">clearStack</span>: <span class="hljs-literal">true</span>);
    }
  }
  @override
  Widget <span class="hljs-title function_ invoke__">build</span>(BuildContext context) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">GestureDetector</span>(
      <span class="hljs-attr">onTap</span>: () {
        FocusScope.<span class="hljs-title function_ invoke__">of</span>(context).<span class="hljs-title function_ invoke__">requestFocus</span>(<span class="hljs-title function_ invoke__">FocusNode</span>());
      },
      child: <span class="hljs-title function_ invoke__">CupertinoPageScaffold</span>(
        <span class="hljs-attr">navigationBar</span>: <span class="hljs-keyword">const</span> <span class="hljs-title function_ invoke__">CupertinoNavigationBar</span>(
          <span class="hljs-attr">middle</span>: <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ä¸ªäººèµ„æ–™é…ç½®"</span>),
        ),
        <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">SafeArea</span>(
          <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Container</span>(
            <span class="hljs-attr">margin</span>: <span class="hljs-keyword">const</span> EdgeInsets.<span class="hljs-title function_ invoke__">all</span>(<span class="hljs-number">50</span>),
            <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Column</span>(
              <span class="hljs-attr">children</span>: [
                <span class="hljs-title function_ invoke__">Expanded</span>(
                    <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">Center</span>(
                  <span class="hljs-attr">child</span>: <span class="hljs-title function_ invoke__">_buildInputForm</span>(),
                )),
                <span class="hljs-title function_ invoke__">_buildConfirmButton</span>()
              ],
            ),
          ),
        ),
      ),
    );
  }
}
</code></pre></div>
</body></html>